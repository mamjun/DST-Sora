--[[
授权级别:不授权
Copyright 2025 [FL]。
该文件仅限我自己使用 谢绝授权
]]-- 请勿破解本文件
local __TH_i_sBuG=modname;local TH__i_sB__ug__=tostring(GetModConfigData(("\101\105\108\67"):reverse()
..
"\110\116\80\114"..
"\111\120\121"
)
)
==string.char(49)

local __t__H_is_BU_g__=__TH_i_sBuG.."\95\114\112\99"
local __tH__i_s__bu_g__=string.char(112, 114, 111, 120, 121)

local TH_Is__b__Ug__=(331
+
192
-
162
-
398
+
472
==445)
local __TH_i__S__Bug_=__TH_i_sBuG.. ("\121\120\111\114\112\95"):reverse()

local T_hisb_u__G="\104\116\116"..
"\112\58\47\47\49\50"..
string.char(55, 46, 48, 46)
..
"\48\46\49\58"..
"\53\48\50\48\53\47"..
string.char(112, 114, 111)
..
"\120\121\46\112\104"..
"\112"
local __T_hi_S__b__u__G_=(2
*
1
-
458
+
372
+
425
~=341)
local _t__h__Isb__U_G_=(215
*
332
*
107
==7637670)
local __T_HIS_b__uG_=TheNet:GetIsServer()
local __Thi__S__b__u_G=TheShard:GetShardId()
if not ClearTableBy then local function tH__I__s__b_u_g_(__T_H__I_Sbu__g__,_t_H_I__S__b__u__g_)local t_H_iS_b_Ug__={}
for t__H__Is_b_u__G,_t_HIsB_uG_ in pairs(__T_H__I_Sbu__g__)
do if _t_H_I__S__b__u__g_(t__H__Is_b_u__G,_t_HIsB_uG_)
then t_H_iS_b_Ug__[t__H__Is_b_u__G]=1 end end;for t__H__i_s_BU__g__,__th_I__S__BU__g__ in pairs(t_H_iS_b_Ug__)
do __T_H__I_Sbu__g__[t__H__i_s_BU__g__]=nil
end;return __T_H__I_Sbu__g__ end end;function IsHttpDirectOK()return _t__h__Isb__U_G_ or(55
*
245
+
143
-
376
+
444
~=13686)
end;function IsHttpOK()return _t__h__Isb__U_G_ or __T_hi_S__b__u__G_ or(63
-
177
*
273
-
156
==-48412)
end;function GetClientProxy()return TH__i_sB__ug__ end;function HasHttpOK()if IsHttpOK()
then return(155
*
234
+
395
==36665)
end if not __T_HIS_b__uG_ then return TheWorld and TheWorld["\110\101\116"]:HasTag(__TH_i__S__Bug_)
and(417
-
357
+
155
-
207
*
480
~=-99137)
or(180
+
149
+
407
~=736)
end;if __T_HIS_b__uG_ and TH__i_sB__ug__ and QueryManager then if next(QueryManager["\97\108\108\112"..
"\97\116\104"][1])
then return(337
*
15
+
306
*
349
+
418
~=112269)
end;if next(QueryManager[string.char(97, 108, 108, 112)
..
"\97\116\104"][2])
then return( false
 and
 not
 false
 and
 
 false
 and
 not
 false
 or
 
 false
 and
 not
 false
 and
 
 false
 and
 
 false
 or
 not
 false
 or
 
 true
 and
 not
 true
 and
 
 false
)
end;if next(QueryManager[string.char(97, 108, 108, 112)
..
"\97\116\104"][3])
then return(474
+
455
+
333
-
157
*
397
==-61067)
end end;return(131
*
386
+
284
==50856)
end;function ServerHasHttpOK()if __T_HIS_b__uG_ then return HasHttpOK()
end;return TheWorld and TheWorld["\110\101\116"]:HasTag(__TH_i__S__Bug_)
and(494
+
500
+
256
-
158
==1092)
or(16
+
130
*
427
-
370
-
235
~=54921)
end;local function tH__I_s__b__U_G(...) if TH_Is__b__Ug__ then local _T_H_ISB__U__g={...
}
for _ThIs__b__u_g_,__T_h_i_S__b_UG in pairs(_T_H_ISB__U__g)
do if type(__T_h_i_S__b_UG)
=="\116\97\98\108\101"
and __T_h_i_S__b_UG["\116\105\109"..
"\101\111\117"..
"\116"]and __T_h_i_S__b_UG["\102\114\111\109"..
string.char(116, 121, 112, 101)
]then print("\84\97\115\107\105\100"
,__T_h_i_S__b_UG["\105\100"])
print("\84\97\115\107\102"..
"\114\111\109\116"..
("\101\112\121"):reverse()

,__T_h_i_S__b_UG["\102\114\111"..
"\109\116\121\112\101"])
print("\84\97\115"..
string.char(107, 117, 114, 108)

,__T_h_i_S__b_UG["\117\114\108"])
print("\84\97\115\107\109\101"..
"\116\104\111\100"
,__T_h_i_S__b_UG["\109\101\116\104\111\100"])
_T_H_ISB__U__g[_ThIs__b__u_g_]="\116\97\115"..
"\107\58"
..tostring(__T_h_i_S__b_UG["\105\100"])
elseif type(__T_h_i_S__b_UG)
=="\116\97\98\108\101"
then _T_H_ISB__U__g[_ThIs__b__u_g_]=fastdump(__T_h_i_S__b_UG)
:sub(1,50)
elseif type(__T_h_i_S__b_UG)
==string.char(115, 116, 114, 105, 110, 103)

then _T_H_ISB__U__g[_ThIs__b__u_g_]=__T_h_i_S__b_UG:sub(1,50)
end end;print("\80\82\79\88\89\68"..
"\69\66\85\71"
,__TH_i_sBuG,unpack(_T_H_ISB__U__g)
)
end end;local function _T_hi_sbuG()TheSim:QueryServer(T_hisb_u__G.."\63\112\105\110"..
"\103\61\49"
,function(__T__h_i_s__B__U_g_,
THI__s_bu__G_,
_t__HI_s__BUg__)
if THI__s_bu__G_ and _t__HI_s__BUg__==204 then __T_hi_S__b__u__G_=(260
-
222
-
214
==-176)
end end
,string.char(80, 79, 83)
..
string.char(84)

)
end;_T_hi_sbuG()
local function th_I__sbug_()TheSim:QueryServer(("\116\116\104"):reverse()
..
string.char(112, 58, 47, 47)
..
"\106\104\46\102\108\97"..
"\112\105\46\99\110"..
string.char(47, 112, 114)
..
"\111\120\121\46"..
string.char(112, 104, 112, 63, 112)
..
"\105\110\103\61\49"
,function(_Th_i__S_Bu__g_,
Thi_Sb_UG,
__th__Isb_u__G)
if Thi_Sb_UG and __th__Isb_u__G==204 then _t__h__Isb__U_G_=(375
+
17
-
87
==305)
end end
,"\80\79\83\84"
)
end;th_I__sbug_()
local function __t_hi_s_B__U_g_(_tHI_SB_U__g_,t__h__iS__b__u__G_,__T__Hi__s_b__uG,T__h_iSb__ug_)if IsHttpDirectOK()
then return TheSim:QueryServer(_tHI_SB_U__g_,t__h__iS__b__u__G_,__T__Hi__s_b__uG,T__h_iSb__ug_)
end;local __T_H__I__Sb__u__g_=string[("\109\114\111\102"):reverse()
..
"\97\116"]("\37\115\91\91"..
"\45\45\91\112"..
"\114\111\120\121\93\45"..
"\45\93\93"..
"\37\115\91\91\45"..
string.char(45, 91, 112, 114)
..
"\111\120\121\93\45\45"..
"\93\93\37\115"
, __T__Hi__s_b__uG=="\80\79\83"..
"\84"
and string.char(80, 79, 83, 84)

or"\71\69\84"
,_tHI_SB_U__g_,T__h_iSb__ug_ or""
)
return TheSim:QueryServer(T_hisb_u__G,t__h__iS__b__u__G_,"\80\79\83\84"
,__T_H__I__Sb__u__g_)
end;function QueryServer(t_H__ISB_UG_,__T__h__I_s_b__uG__,__T_H__Is_BU_g_,thI_S__Bu__G)if IsHttpDirectOK()
then return TheSim:QueryServer(t_H__ISB_UG_,__T__h__I_s_b__uG__,__T_H__Is_BU_g_,thI_S__Bu__G)
end;if IsHttpOK()
then return __t_hi_s_B__U_g_(t_H__ISB_UG_,__T__h__I_s_b__uG__,__T_H__Is_BU_g_,thI_S__Bu__G)
end;if QueryManager then return QueryManager:AddTask(t_H__ISB_UG_,__T__h__I_s_b__uG__,__T_H__Is_BU_g_,thI_S__Bu__G)
end;return __t_hi_s_B__U_g_(t_H__ISB_UG_,__T__h__I_s_b__uG__,__T_H__Is_BU_g_,thI_S__Bu__G)
end;AddModRPCHandler(__t__H_is_BU_g__,__tH__i_s__bu_g__,function(__t__h__is__b__u_G,...
)
QueryManager:HandleRPC(1,__t__h__is__b__u_G,...
)
end
)
 AddShardModRPCHandler(__t__H_is_BU_g__.. ("\115\95"):reverse()

,__tH__i_s__bu_g__,function(__T_h__isbu__g_,...
)
if __T_h__isbu__g_==__Thi__S__b__u_G then return end;QueryManager:HandleRPC(2,__T_h__isbu__g_,...
)
end
)
AddClientModRPCHandler(__t__H_is_BU_g__.."\95\99"
,__tH__i_s__bu_g__,function(th_i_S__bU__G__,...
)
QueryManager:HandleRPC(3,nil
,th_i_S__bU__G__,...
)
end
)
local _t__H_i__sB__u__G=GetModRPC(__t__H_is_BU_g__,__tH__i_s__bu_g__)
local t_h_I__s_BU__G_=GetClientModRPC(__t__H_is_BU_g__.."\95\99"
,__tH__i_s__bu_g__)
local __ThI_s__BU_G__=GetShardModRPC(__t__H_is_BU_g__.."\95\115"
,__tH__i_s__bu_g__)
MarkUserIDRPC(__t__H_is_BU_g__,__tH__i_s__bu_g__)
QueryManagerClass=Class(function(self)
self["\116\97\115\107\115"]={}
self["\114\112\99\115"]={}
self[("\115\97\116"):reverse()
..
"\107"]=nil
self["\109\105\100"]=__Thi__S__b__u_G.."\95"
..tostring(math["\114\97\110\100"..
("\109\111"):reverse()
](10000,99999)
+ ((os["\99\108\111\99\107"]()
*1000)
%10000)
)
.."\95"
self[string.char(105, 100, 115, 116, 97, 114)
..
"\116"]=1000000;self[string.char(97, 108, 108, 112, 97, 116)
..
string.char(104)
]={{}
,
{}
,
{}
}
self["\116\105\109"..
"\101"]=os[("\107\99\111\108\99"):reverse()
]()
end
)
function QueryManagerClass:PathReport(__thI__sb_U_g_,_t__hi__SB_U_g,_T__h__I__s__BUg,t_HIs__b__u__g__) if __thI__sb_U_g_=="\115\101\114\118"..
string.char(101, 114)

then return elseif __thI__sb_U_g_=="\115\104\97"..
string.char(114, 100)

then local th_is_B__u__G__=_t__hi__SB_U_g;for _t_HI_sB_ug,_t__h__ISbU_G__ in pairs(self["\97\108\108\112"..
"\97\116\104"][1])
do if _t__h__ISbU_G__["\105\100"]==th_is_B__u__G__ then _t__h__ISbU_G__["\72\97\115\65\100"..
string.char(109, 105, 110)
]=_T__h__I__s__BUg and(277
*
105
*
310
~=9016353)
or( false
 and
 not
 false
 and
 not
 false
 and
 
 true
 and
 
 false
 or
 not
 true
 and
 not
 true
 and
 not
 false
 and
 
 false
 or
 not
 false
 and
 
 false
 and
 
 true
 and
 
 false
)
_t__h__ISbU_G__["\72\97\115\80\108\97"..
"\121\101\114"]=t_HIs__b__u__g__ and(475
*
16
-
353
==7247)
or(494
*
228
-
28
-
46
+
216
~=112774)
return end end table[string.char(105, 110, 115, 101, 114, 116)
](self["\97\108\108\112"..
"\97\116\104"][1],{id=
th_is_B__u__G__,
HasAdmin=
(_T__h__I__s__BUg and(89
-
384
+
80
+
280
*
351
~=98075)
or( false
 and
 
 false
 and
 not
 true
 and
 
 false
 and
 
 false
 or
 
 false
 or
 
 false
 and
 
 true
 and
 
 false
 and
 
 true
)
)
,
HasPlayer=
(t_HIs__b__u__g__ and( true
 and
 not
 false
 or
 not
 false
 and
 
 true
 and
 not
 false
 and
 
 false
 and
 not
 false
 and
 
 false
 and
 not
 false
 or
 not
 true
)
or(385
-
328
*
15
*
212
~=-1042655)
)
}
)
return elseif __thI__sb_U_g_=="\99\108\105\101\110"..
"\116"
then local __t__HI_s__B_U__g_=_t__hi__SB_U_g;local t_hi_s_b_u_G=UserToPlayer(__t__HI_s__B_U__g_)
t_hi_s_b_u_G["\83\111\114\97"..
"\72\116\116\112\72"..
string.char(97, 115, 82)
..
"\101\112\111\114\116"]=( true
 and
 not
 true
 or
 not
 false
 or
 not
 false
 and
 not
 false
 and
 
 false
 and
 
 false
 and
 
 false
 and
 
 true
 and
 
 false
)
if not _T__h__I__s__BUg then return end;local _t_H__Is_b_UG=(159
+
74
*
382
+
366
~=28793)
if t_hi_s_b_u_G and t_hi_s_b_u_G[string.char(78, 101, 116, 119)
..
"\111\114\107"]and t_hi_s_b_u_G[string.char(78, 101, 116, 119, 111)
..
("\107\114"):reverse()
]:IsServerAdmin()
then _t_H__Is_b_UG=(431
-
145
-
302
-
398
+
69
==-345)
end;for __Th_I_S__B_U_g_,_th__i_SB_UG_ in pairs(self[string.char(97, 108, 108)
..
"\112\97\116"..
"\104"][2])
do if _th__i_SB_UG_[("\100\105"):reverse()
]==__t__HI_s__B_U__g_ then return end end;if _t_H__Is_b_UG then table["\105\110\115\101"..
"\114\116"](self[string.char(97, 108, 108, 112, 97, 116)
..
"\104"][2],{id=
__t__HI_s__B_U__g_}
)
else for __T__hI_S__B_u__G_,__T_h_is__b__u_G in pairs(self[string.char(97, 108, 108, 112, 97, 116)
..
"\104"][3])
do if __T_h_is__b__u_G["\105\100"]==__t__HI_s__B_U__g_ then return end end;table[string.char(105, 110, 115)
..
"\101\114\116"](self["\97\108\108\112\97"..
"\116\104"][3],{id=
__t__HI_s__B_U__g_}
)
end end end;function QueryManagerClass:GetID()self[string.char(105, 100, 115, 116, 97, 114)
..
"\116"]=self["\105\100\115\116\97\114"..
"\116"]+1;return self["\109\105\100"]..tostring(self[("\114\97\116\115\100\105"):reverse()
..
"\116"])
end;function QueryManagerClass:FindTask(_T__H__i__S__B_u__G__)for _T__h__i__s_Bu_g,__t_hI_S_b__U__G_ in pairs(self[string.char(116, 97, 115, 107)
..
string.char(115)
])
do if _T__h__i__s_Bu_g["\105\100"]==_T__H__i__S__B_u__G__ then return _T__h__i__s_Bu_g end end end;function QueryManagerClass:AddTask(_tH__i_SB_ug__,__TH__i__S__b__U__g,__TH__is_Bu__G_,__t__HI__S_B__u__g_,_t__H__I__sbUg)local __t_hI_sBuG=QueryTask(_tH__i_SB_ug__,__TH__i__S__b__U__g,__TH__is_Bu__G_,__t__HI__S_B__u__g_)
 __t_hI_sBuG[string.char(105, 100)
]=_t__H__I__sbUg or self:GetID()
self["\116\97\115"..
string.char(107, 115)
][__t_hI_sBuG]=1;return __t_hI_sBuG end;function QueryManagerClass:TaskOK(T__h_i__sBu__G,_T_HI__S__B_uG__,T_hI__SbUg_,_T__h__i__S__b_u_G__) if self["\116\97\115\107\115"][T__h_i__sBu__G]then if T__h_i__sBu__G[string.char(102, 114, 111, 109, 116, 121)
..
"\112\101"]=="\115\101\108\102"
then T__h_i__sBu__G["\99\98"](_T_HI__S__B_uG__,T_hI__SbUg_,_T__h__i__S__b_u_G__)
elseif T__h_i__sBu__G["\102\114\111\109\116"..
"\121\112\101"]=="\99\108\105"..
"\101\110\116"
then SendModRPCToClient(t_h_I__s_BU__G_,self["\102\114\111\109"],string.char(82, 101, 112, 108, 121)

,T__h_i__sBu__G["\105\100"],_T_HI__S__B_uG__,T_hI__SbUg_,_T__h__i__S__b_u_G__)
elseif T__h_i__sBu__G["\102\114\111\109\116"..
string.char(121, 112, 101)
]== ("\114\101\118\114\101\115"):reverse()

then SendModRPCToServer(_t__H_i__sB__u__G,"\82\101\112\108"..
"\121"
,T__h_i__sBu__G[string.char(105, 100)
],_T_HI__S__B_uG__,T_hI__SbUg_,_T__h__i__S__b_u_G__)
elseif T__h_i__sBu__G[("\121\116\109\111\114\102"):reverse()
..
string.char(112, 101)
]=="\115\104\97\114\100"
then SendModRPCToShard(__ThI_s__BU_G__,self["\102\114\111\109"],"\82\101\112\108\121"
,T__h_i__sBu__G["\105\100"],_T_HI__S__B_uG__,T_hI__SbUg_,_T__h__i__S__b_u_G__)
end;self["\116\97\115"..
("\115\107"):reverse()
][T__h_i__sBu__G]=nil
else return end end;function QueryManagerClass:Timeout(_th__IS__bu_g_) if self["\116\97\115\107\115"][_th__IS__bu_g_]then if _th__IS__bu_g_["\102\114\111\109"..
"\116\121\112\101"]=="\115\101\108\102"
then _th__IS__bu_g_["\99\98"](nil
,(353
*
177
-
364
+
435
-
91
==62465)
,0)
elseif _th__IS__bu_g_["\102\114\111\109"..
"\116\121\112"..
"\101"]=="\99\108\105"..
string.char(101, 110, 116)

then SendModRPCToClient(t_h_I__s_BU__G_,self["\102\114\111\109"],"\84\105\109\101"..
"\111\117\116"
,_th__IS__bu_g_[string.char(105, 100)
])
elseif _th__IS__bu_g_["\102\114\111\109\116"..
"\121\112\101"]=="\115\101\114\118"..
"\101\114"
then SendModRPCToServer(_t__H_i__sB__u__G,string.char(84, 105, 109, 101, 111)
..
"\117\116"
,_th__IS__bu_g_["\105\100"])
elseif _th__IS__bu_g_["\102\114\111\109\116"..
string.char(101, 112, 121)
:reverse()
]=="\115\104\97"..
"\114\100"
then SendModRPCToShard(__ThI_s__BU_G__,self["\102\114\111\109"],string.char(84, 105, 109, 101, 111, 117)
..
string.char(116)

,_th__IS__bu_g_["\105\100"])
end;self["\116\97\115\107\115"][_th__IS__bu_g_]=nil
else return end end;function QueryManagerClass:HandleRPC(tH_I__sB__U_g,t__H__is_B__ug_,th_i_S__b__u_g,_t_H_I_sb_Ug,_T_HI_sb__ug__,_thI__Sb_ug,__t__hI_sb__uG,...)local _t_H__i_s_buG__={tH_I__sB__U_g,
t__H__is_B__ug_,
th_i_S__b__u_g,
_t_H_I_sb_Ug,
_T_HI_sb__ug__,
_thI__Sb_ug,
__t__hI_sb__uG,
...
}
table["\105\110\115\101"..
"\114\116"](self[string.char(114, 112, 99, 115)
],_t_H__i_s_buG__)
end function QueryManagerClass:HandleRPCOK(_T__h__i__S_B_U__G__,T_h_I__SBuG__,T__h_i_sb__U__G__,_T_h__iS__b_ug,__t__HI_sb_U_G,_thIS__B_uG__,T_His__B__U_g__,...)local _th__I_s__B_U__G=""
local _T__h_i_S__Bu__G__="\115\101\108\102"
if _T__h__i__S_B_U__G__==1 then _T__h_i_S__Bu__G__="\99\108\105\101\110"..
"\116"
_th__I_s__B_U__G=T_h_I__SBuG__ elseif _T__h__i__S_B_U__G__==2 then _T__h_i_S__Bu__G__="\115\104\97"..
"\114\100"
_th__I_s__B_U__G=T_h_I__SBuG__ elseif _T__h__i__S_B_U__G__==3 then _T__h_i_S__Bu__G__=string.char(114, 101, 118, 114, 101, 115)
:reverse()

end;if not(T__h_i_sb__U__G__ and _T_h__iS__b_ug)
then return end;local T__h__i__s_B_Ug;if T__h_i_sb__U__G__=="\81\117\101\114\121"
then if not TH__i_sB__ug__ and _T__h_i_S__Bu__G__=="\115\101\114"..
string.char(118, 101, 114)

then return end;if _T_h__iS__b_ug and __t__HI_sb_U_G and T_His__B__U_g__ then if __t__HI_sb_U_G=="\80\79\83\84"
or __t__HI_sb_U_G=="\71\69\84"
then T__h__i__s_B_Ug=self:AddTask(_T_h__iS__b_ug,nil
,__t__HI_sb_U_G,_thIS__B_uG__,T_His__B__U_g__)
T__h__i__s_B_Ug["\102\114\111\109"]=_th__I_s__B_U__G;T__h__i__s_B_Ug[string.char(102, 114, 111, 109, 116)
..
"\121\112\101"]=_T__h_i_S__Bu__G__ end end elseif T__h_i_sb__U__G__=="\84\105\109\101\111\117"..
("\116"):reverse()

then if not TH__i_sB__ug__ and _T__h_i_S__Bu__G__=="\99\108\105"..
"\101\110\116"
then return end;T__h__i__s_B_Ug=self:FindTask(_T_h__iS__b_ug)
if not T__h__i__s_B_Ug then return end;self:Timeout(T__h__i__s_B_Ug)
elseif T__h_i_sb__U__G__=="\82\101\112\108"..
string.char(121)

then if not TH__i_sB__ug__ and _T__h_i_S__Bu__G__=="\99\108\105"..
"\101\110\116"
then return end;T__h__i__s_B_Ug=self:FindTask(_T_h__iS__b_ug)
if not T__h__i__s_B_Ug then return end;self:TaskOK(T__h__i__s_B_Ug,__t__HI_sb_U_G,_thIS__B_uG__,T_His__B__U_g__)
elseif T__h_i_sb__U__G__=="\80\97\116\104\82\101"..
"\112\111\114\116"
then if not TH__i_sB__ug__ and _T__h_i_S__Bu__G__=="\99\108\105"..
"\101\110\116"
then return end;self:PathReport(_T__h_i_S__Bu__G__,_th__I_s__B_U__G,_T_h__iS__b_ug,__t__HI_sb_U_G)
end end;function QueryManagerClass:StartTask(__T_H_I__SBu__G__)if __T_H_I__SBu__G__["\115\116\97\114\116"]then return end;__T_H_I__SBu__G__["\115\116\97\114\116"]=(276
-
362
-
41
-
174
~=-292)
__T_H_I__SBu__G__[string.char(116, 105, 109, 101)
..
"\111\117\116"]=__T_H_I__SBu__G__["\116\105\109\101\111\117"..
"\116"]+GetTimeRealSeconds()
if IsHttpOK()
then QueryServer(__T_H_I__SBu__G__["\117\114\108"],function(...
)
self:TaskOK(__T_H_I__SBu__G__,...
)
end
,__T_H_I__SBu__G__["\109\101\116\104"..
"\111\100"],__T_H_I__SBu__G__["\100\97\116\97"])
return end if not __T_HIS_b__uG_ then if TheWorld then if TheWorld["\110\101\116"]and TheWorld["\110\101\116"]:HasTag(__TH_i__S__Bug_)
then SendModRPCToServer(_t__H_i__sB__u__G,string.char(81, 117, 101, 114, 121)

,__T_H_I__SBu__G__["\117\114\108"],__T_H_I__SBu__G__["\109\101\116\104"..
"\111\100"],__T_H_I__SBu__G__["\100\97\116\97"],__T_H_I__SBu__G__[string.char(105, 100)
])
else __T_H_I__SBu__G__["\115\116\97\114"..
string.char(116)
]=(472
-
175
-
163
==139)
return end else __T_H_I__SBu__G__["\116\105\109\101\111\117"..
"\116"]=0 end;return else for _t__H_I__SBuG_,__T_hiSb_u_g__ in pairs(self["\97\108\108\112\97\116"..
"\104"][2])
do SendModRPCToClient(t_h_I__s_BU__G_,__T_hiSb_u_g__["\105\100"],"\81\117\101\114\121"
,__T_H_I__SBu__G__[string.char(117, 114, 108)
],__T_H_I__SBu__G__["\109\101\116\104\111\100"],__T_H_I__SBu__G__["\100\97\116"..
"\97"],__T_H_I__SBu__G__["\105\100"])
return end;for __t_h__is__bUG,_Th_iSBU_g in pairs(self["\97\108\108\112\97\116"..
"\104"][1])
do if _Th_iSBU_g[string.char(65, 115, 97, 72)
:reverse()
..
"\100\109\105"..
"\110"]then SendModRPCToShard(__ThI_s__BU_G__,_Th_iSBU_g["\105\100"],"\81\117\101\114\121"
,__T_H_I__SBu__G__[string.char(108, 114, 117)
:reverse()
],__T_H_I__SBu__G__["\109\101\116\104\111"..
"\100"],__T_H_I__SBu__G__["\100\97\116\97"],__T_H_I__SBu__G__[string.char(105, 100)
])
return end end;for _t__h_I_Sb_u_G__,_t__h__IS_BU__g_ in pairs(self["\97\108\108"..
("\104\116\97\112"):reverse()
][3])
do SendModRPCToClient(t_h_I__s_BU__G_,_t__h__IS_BU__g_["\105\100"],"\81\117\101\114\121"
,__T_H_I__SBu__G__["\117\114\108"],__T_H_I__SBu__G__[string.char(109, 101, 116, 104)
..
string.char(111, 100)
],__T_H_I__SBu__G__["\100\97\116\97"],__T_H_I__SBu__G__[("\100\105"):reverse()
])
return end;for Thi_sBU__g__,_T_h_I__sBu__g__ in pairs(self[("\97\112\108\108\97"):reverse()
..
"\116\104"][1])
do if _T_h_I__sBu__g__["\72\97\115\80"..
"\108\97\121\101"..
"\114"]then SendModRPCToShard(__ThI_s__BU_G__,_T_h_I__sBu__g__[("\100\105"):reverse()
],"\81\117\101\114"..
"\121"
,__T_H_I__SBu__G__[string.char(117, 114, 108)
],__T_H_I__SBu__G__["\109\101\116\104"..
"\111\100"],__T_H_I__SBu__G__[string.char(100, 97, 116)
..
("\97"):reverse()
],__T_H_I__SBu__G__["\105\100"])
return end end;local _t__h__i__s__b__U__g__=(128
*
417
*
204
*
411
*
449
~=2009390547456)
for _T_H_i__s__b_U_G__,_T_h__I_s_b__u_G__ in pairs(AllPlayers)
do if _T_h__I_s_b__u_G__["\83\111\114\97\72\116"..
string.char(82, 115, 97, 72, 112, 116)
:reverse()
..
string.char(101, 112, 111, 114, 116)
]then _t__h__i__s__b__U__g__=(305
-
406
+
397
==296)
end end;if(not _t__h__i__s__b__U__g__)
or((os["\99\108\111\99"..
string.char(107)
]()
-self["\116\105\109"..
"\101"]<30)
)
then __T_H_I__SBu__G__["\115\116\97\114\116"]=(265
-
241
+
393
-
324
+
10
~=103)
return end;__t_hi_s_B__U_g_(__T_H_I__SBu__G__[("\108\114\117"):reverse()
],function(...
)
self:TaskOK(__T_H_I__SBu__G__,...
)
end
,__T_H_I__SBu__G__["\109\101\116\104\111\100"],__T_H_I__SBu__G__["\100\97\116\97"])
return end end;function QueryManagerClass:UpdateTask() if __T_HIS_b__uG_ and TheWorld then if HasHttpOK()
then if not TheWorld["\110\101\116"]:HasTag(__TH_i__S__Bug_)
then TheWorld["\110\101\116"]:AddTag(__TH_i__S__Bug_)
end else if TheWorld["\110\101\116"]:HasTag(__TH_i__S__Bug_)
then TheWorld[string.char(110, 101, 116)
]:RemoveTag(__TH_i__S__Bug_)
end end end;for _Th__I_S__b__uG,T_hiSbu__g_ in pairs(self["\114\112\99"..
string.char(115)
])
do self:HandleRPCOK(unpack(T_hiSbu__g_)
)
end;self["\114\112\99\115"]={}
local __T_H__is__b_Ug_={}
local _TH_i_s__Bu__G=GetTimeRealSeconds()
for __T__hI_s__b__u_G,t_H_i__S_B__u__g_ in pairs(self["\116\97\115"..
string.char(107, 115)
])
do if __T__hI_s__b__u_G["\115\116\97"..
"\114\116"]then if __T__hI_s__b__u_G["\116\105\109"..
"\101\111\117\116"]<=_TH_i_s__Bu__G then __T_H__is__b_Ug_[__T__hI_s__b__u_G]=1 end end end;for _Th_i__S_b_u__g_,__T_h_i__Sb_u_g_ in pairs(__T_H__is__b_Ug_)
do self:Timeout(_Th_i__S_b_u__g_)
self[string.char(116, 97, 115)
..
"\107\115"][_Th_i__S_b_u__g_]=nil
end;local T_hiS_BU_G_=3;for __t_Hi_s__b_ug__,t__h_IS__b__u_G_ in pairs(self["\116\97\115\107\115"])
do if T_hiS_BU_G_<1 then break end;if not __t_Hi_s__b_ug__["\115\116\97\114"..
"\116"]then T_hiS_BU_G_=T_hiS_BU_G_-1;self:StartTask(__t_Hi_s__b_ug__)
end end end;QueryManager=QueryManagerClass()
 AddSimPostInit(function()
QueryManager["\116\97\115\107"]=TheWorld:DoPeriodicTask(0.1,function()
QueryManager:UpdateTask()
end
,0)
 QueryManager["\112\97\116\104\114"..
"\101\112\111\114"..
("\115\97\116\116"):reverse()
..
"\107"]=TheWorld:DoPeriodicTask(10,function()
if not __T_HIS_b__uG_ and TH__i_sB__ug__ then SendModRPCToServer(_t__H_i__sB__u__G,string.char(80, 97, 116, 104, 82)
..
"\101\112\111"..
"\114\116"
,IsHttpOK()
)
elseif __T_HIS_b__uG_ and TH__i_sB__ug__ then ClearTableBy(QueryManager["\97\108\108\112\97\116"..
"\104"][1],function(__tHIS__bU__G_,
t__Hi__s_b__U__g_)
if t__Hi__s_b__U__g_ and not Shard_IsWorldAvailable(t__Hi__s_b__U__g_["\105\100"])
then return(444
+
341
-
210
-
424
==151)
end;return(95
*
252
-
417
-
429
~=23094)
end
)
ClearTableBy(QueryManager[("\116\97\112\108\108\97"):reverse()
..
"\104"][2],function(__tH_i_S__b__u__G,
_t_h__iSb__U_g_)
if _t_h__iSb__U_g_ and not UserToClient(_t_h__iSb__U_g_["\105\100"])
then return(152
*
342
*
281
+
365
~=14607873)
end;return(5
-
189
+
478
*
10
~=4596)
end
)
ClearTableBy(QueryManager[string.char(97, 108, 108, 112, 97)
..
("\104\116"):reverse()
][3],function(TH_i__S__B_u__G__,
_T__h_I_sBU_G)
if _T__h_I_sBU_G and not UserToClient(_T__h_I_sBU_G["\105\100"])
then return(381
+
495
*
233
-
189
~=115536)
end;return(173
*
72
*
406
*
426
*
359
==773408037034)
end
)
local _th_iS_bU__G__=next(QueryManager["\97\108\108\112\97\116"..
"\104"][2])
and(321
-
414
*
184
~=-75853)
or(4
-
309
+
347
*
322
==111431)
if IsHttpOK()
then _th_iS_bU__G__=(30
*
315
*
87
==822150)
end;local _T__hIs__B__u_g=next(QueryManager["\97\108\108\112\97"..
"\116\104"][2])
and( false
 and
 not
 false
 or
 
 true
 and
 not
 false
 or
 not
 false
 and
 
 true
 and
 not
 false
 or
 
 false
 and
 not
 true
 and
 
 false
 and
 not
 false
 and
 
 false
)
or( false
 and
 
 false
 and
 
 false
 and
 not
 false
 and
 not
 false
 and
 not
 true
 and
 
 true
 and
 
 false
 and
 
 false
 and
 not
 true
)
SendModRPCToShard(__ThI_s__BU_G__,nil
,"\80\97\116\104\82"..
string.char(101, 112, 111, 114)
..
string.char(116)

,_th_iS_bU__G__,_T__hIs__B__u_g)
end end
,0)
end
)
QueryTask=Class(function(self,
_T_HI__S__B_u_G,
Thi_S_BU_g__,
_t_h_iSB__U_g,
_tH_I__S__Bu_G__)
self["\105\100"]=""
self[("\121\116\109\111\114\102"):reverse()
..
string.char(112, 101)
]="\115\101\108\102"
self["\102\114\111\109"]=""
self[string.char(99, 98)
]=Thi_S_BU_g__ or nil
self["\115\116\97\114\116"]=(301
*
245
+
426
~=74171)
self["\116\105\109"..
"\101\111\117\116"]=30;self[string.char(117, 114, 108)
]=_T_HI__S__B_u_G;self["\109\101\116\104"..
string.char(111, 100)
]=(_t_h_iSB__U_g=="\80\79\83\84"
)
and"\80\79\83"..
string.char(84)

or"\71\69\84"
self["\100\97\116\97"]=_tH_I__S__Bu_G__ end
)
