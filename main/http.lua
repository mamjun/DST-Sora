--[[
授权级别:不授权
Copyright 2025 [FL]。
该文件仅限我自己使用 谢绝授权
]]-- 请勿破解本文件
local t__H_ISB_U__G__=modname;local __th__i_S__b_U_g=tostring(GetModConfigData(string.char(67, 108, 105)
..
"\101\110\116\80\114\111"..
"\120\121"
)
)
=="\49"
local _tH_isb__u__g=t__H_ISB_U__G__.."\95\114\112\99"
local _t_hIS_BUg_=("\120\111\114\112"):reverse()
..
"\121"
local _t_H_iSb_UG__=(406
*
22
*
174
+
363
~=1554531)
local _T__H__i__S_B_uG_=TheNet:GetUserID()
local _T_h__I_sb__uG=t__H_ISB_U__G__..string.char(95, 112, 114)
..
"\111\120\121"
local _T_h__i__S__b_U__G_="\104\116\116\112\58\47"..
"\47\49\50\55\46\48"..
("\46\48\46"):reverse()
..
"\49\58\53"..
"\48\50\48"..
string.char(53, 47, 112, 114, 111, 120)
..
string.char(112, 104, 112, 46, 121)
:reverse()

local _T_h_is_B_u__g_=(376
-
290
*
398
+
199
~=-114845)
local _T__h_i__sbUg=(213
-
372
-
463
+
197
==-421)
local _T__His__Bug=TheNet:GetIsServer()
local THI_s_b__UG_=TheShard:GetShardId()
if not ClearTableBy then local function _T_H__is_B__UG_(__tHIS_BU_G_,__Th_I__S__bU__G_)local _t_hi_sb_U__G_={}
for __T_hi_S_b_U__G_,__t_hi_S__Bu_G_ in pairs(__tHIS_BU_G_)
do if __Th_I__S__bU__G_(__T_hi_S_b_U__G_,__t_hi_S__Bu_G_)
then _t_hi_sb_U__G_[__T_hi_S_b_U__G_]=1 end end;for thi__s_BU__G_,_t_h__isb__ug__ in pairs(_t_hi_sb_U__G_)
do __tHIS_BU_G_[thi__s_BU__G_]=nil
end;return __tHIS_BU_G_ end end;function IsHttpDirectOK()return _T__h_i__sbUg or(124
-
403
-
361
-
49
~=-689)
end;function IsHttpOK()return _T__h_i__sbUg or _T_h_is_B_u__g_ or(472
*
495
-
111
+
381
~=233910)
end;function GetClientProxy()return __th__i_S__b_U_g end;function HasHttpOK()if IsHttpOK()
then return(454
*
302
-
224
+
32
*
120
~=140731)
end;if not _T__His__Bug then return TheWorld and TheWorld["\110\101\116"]:HasTag(_T_h__I_sb__uG)
and( false
 and
 
 false
 and
 not
 false
 and
 not
 true
 and
 not
 false
 or
 not
 false
 or
 
 false
 and
 
 false
 and
 not
 false
 or
 not
 true
 and
 
 false
)
or (142
*
174
*
35
*
382
==330345964)
end;if _T__His__Bug and QueryManager then if next(QueryManager["\97\108\108"..
"\112\97\116"..
string.char(104)
][1])
then return(19
-
185
-
322
-
479
-
400
~=-1357)
end;if next(QueryManager["\97\108\108\112\97\116"..
("\104"):reverse()
][2])
then return(51
*
134
+
79
+
95
==7008)
end;if next(QueryManager[string.char(97, 108, 108, 112, 97)
..
"\116\104"][3])
then return(171
+
460
-
91
*
183
~=-16015)
end end;return(379
*
43
+
357
~=16654)
end;function ServerHasHttpOK()if _T__His__Bug then return HasHttpOK()
end;return TheWorld and TheWorld["\110\101\116"]:HasTag(_T_h__I_sb__uG)
and(222
+
114
-
180
+
361
~=525)
or(377
*
113
-
286
==42320)
end;local function _thi__s__bu_g_(...) if _t_H_iSb_UG__ then local _t__H__IS__b__u__G__={...
}
for t__H_IS_B__U__G_,th__I__S_b_UG in pairs(_t__H__IS__b__u__G__)
do if type(th__I__S_b_UG)
=="\116\97\98\108\101"
and th__I__S_b_UG["\116\105\109"..
string.char(101, 111, 117, 116)
]and th__I__S_b_UG["\102\114\111\109\116"..
"\121\112\101"]then print("\84\97\115\107\105\100"
,th__I__S_b_UG[string.char(105, 100)
])
print("\84\97\115\107\102\114"..
"\111\109\116\121\112\101"
,th__I__S_b_UG["\102\114\111\109\116"..
string.char(121, 112, 101)
])
print("\84\97\115"..
string.char(107, 117, 114)
..
("\108"):reverse()

,th__I__S_b_UG[string.char(117, 114, 108)
])
print(string.char(84, 97, 115, 107)
..
"\109\101\116"..
string.char(104, 111, 100)

,th__I__S_b_UG["\109\101\116\104\111"..
"\100"])
_t__H__IS__b__u__G__[t__H_IS_B__U__G_]="\116\97\115\107\58"
..tostring(th__I__S_b_UG["\105\100"])
elseif type(th__I__S_b_UG)
=="\116\97\98\108\101"
then _t__H__IS__b__u__G__[t__H_IS_B__U__G_]=fastdump(th__I__S_b_UG)
:sub(1,50)
elseif type(th__I__S_b_UG)
=="\115\116\114\105\110\103"
then _t__H__IS__b__u__G__[t__H_IS_B__U__G_]=th__I__S_b_UG:sub(1,50)
end end;print(string.char(80, 82, 79, 88, 89)
..
"\68\69\66\85"..
"\71"
,t__H_ISB_U__G__,unpack(_t__H__IS__b__u__G__)
)
end end;local function T_H__I__s_BU_G()TheSim:QueryServer(_T_h__i__S__b_U__G_..string.char(63, 112, 105)
..
"\110\103\61\49"
,function(__th__i_S_B__Ug_,
_t__hIs__B_u__g__,
__t_hi__s__Bu__g)
if _t__hIs__B_u__g__ and __t_hi__s__Bu__g==204 then _T_h_is_B_u__g_=(493
+
309
+
296
==1098)
end end
,"\80\79\83\84"
)
end;T_H__I__s_BU_G()
local function _th_iSBU_G_()TheSim:QueryServer(("\116\116\104"):reverse()
..
"\112\58\47"..
"\47\106\104\46\102"..
"\108\97\112"..
("\47\110\99\46\105"):reverse()
..
"\112\114\111\120"..
("\63\112\104\112\46\121"):reverse()
..
"\112\105\110\103\61\49"
,function(_T__H__I__s__b_U__g__,
_T__HI__s__B__u_G,
T__H__is_b_u_G)
if _T__HI__s__B__u_G and T__H__is_b_u_G==204 then _T__h_i__sbUg=(145
-
155
*
400
+
139
==-61716)
end end
,"\80\79\83"..
"\84"
)
end;_th_iSBU_G_()
local function _T_H__isB__u__G__(_T_h_I__s_b_Ug_,t__H_I__Sb_U_g_,T_h_i_s__B_U_g,_THisb__u__G)if IsHttpDirectOK()
then return TheSim:QueryServer(_T_h_I__s_b_Ug_,t__H_I__Sb_U_g_,T_h_i_s__B_U_g,_THisb__u__G)
end;local __t__h_i_S__B_Ug_=string[("\116\97\109\114\111\102"):reverse()
]("\37\115\91\91"..
"\45\45\91\112"..
"\114\111\120\121\93"..
"\45\45\93\93\37\115"..
string.char(91, 91, 45)
..
string.char(45, 91, 112, 114)
..
"\111\120\121\93\45"..
"\45\93\93"..
("\115\37"):reverse()

,T_h_i_s__B_U_g==string.char(80, 79, 83, 84)

and"\80\79\83\84"
or"\71\69\84"
,_T_h_I__s_b_Ug_,_THisb__u__G or""
)
return TheSim:QueryServer(_T_h__i__S__b_U__G_,t__H_I__Sb_U_g_,"\80\79\83\84"
,__t__h_i_S__B_Ug_)
end;function QueryServer(THis_Bug__,_t__h_I_s__Bug,__T__H_IS__B_U__G,tH_Is__bug)if IsHttpDirectOK()
then return TheSim:QueryServer(THis_Bug__,_t__h_I_s__Bug,__T__H_IS__B_U__G,tH_Is__bug)
end;if IsHttpOK()
then return _T_H__isB__u__G__(THis_Bug__,_t__h_I_s__Bug,__T__H_IS__B_U__G,tH_Is__bug)
end;if QueryManager then return QueryManager:AddTask(THis_Bug__,_t__h_I_s__Bug,__T__H_IS__B_U__G,tH_Is__bug)
end;return _T_H__isB__u__G__(THis_Bug__,_t__h_I_s__Bug,__T__H_IS__B_U__G,tH_Is__bug)
end;AddModRPCHandler(_tH_isb__u__g,_t_hIS_BUg_,function(th_i__s__b_U__g__,...
)
QueryManager:HandleRPC(1,th_i__s__b_U__g__,...
)
end
)
AddShardModRPCHandler(_tH_isb__u__g.."\95\115"
,_t_hIS_BUg_,function(_t_HI_S_bu__g,...
)
if _t_HI_S_bu__g==THI_s_b__UG_ then return end QueryManager:HandleRPC(2,_t_HI_S_bu__g,...
)
end
)
AddClientModRPCHandler(_tH_isb__u__g.."\95\99"
,_t_hIS_BUg_,function(__t_H_i_S__BU_G_,...
)
QueryManager:HandleRPC(3,nil
,__t_H_i_S__BU_G_,...
)
end
)
local TH_is__BU_g__=GetModRPC(_tH_isb__u__g,_t_hIS_BUg_)
local t__HiS_b_u__G__=GetClientModRPC(_tH_isb__u__g.."\95\99"
,_t_hIS_BUg_)
local t_hi_s_B__U_g=GetShardModRPC(_tH_isb__u__g.."\95\115"
,_t_hIS_BUg_)
MarkUserIDRPC(_tH_isb__u__g,_t_hIS_BUg_)
 QueryManagerClass=Class(function(self)
self["\116\97\115\107\115"]={}
self[string.char(114, 112, 99, 115)
]={}
self["\116\97\115\107"]=nil
self[string.char(109, 105, 100)
]=THI_s_b__UG_..string.char(95)

..tostring(math[string.char(114, 97, 110)
..
"\100\111\109"](10000,99999)
+ ((os["\99\108\111\99"..
"\107"]()
*1000)
%10000)
)
.."\95"
self["\105\100\115\116\97\114"..
string.char(116)
:reverse()
]=1000000;self[string.char(97, 108, 108)
..
string.char(104, 116, 97, 112)
:reverse()
]={{}
,
{}
,
{}
}
self["\116\105\109"..
"\101"]=os["\99\108\111\99"..
string.char(107)
]()
end
)
function QueryManagerClass:PathReport(_t_hiSB__u__g__,T_h_I_S_B__uG_,__Th_I_S__B_U_G__,T__H__I__SB_UG_) if _t_hiSB__u__g__=="\115\101\114\118\101\114"
then return elseif _t_hiSB__u__g__=="\115\104\97"..
"\114\100"
then local __t_h__i__SbU__G__=T_h_I_S_B__uG_;for _t__H_i_S_b__u__g,TH_i_sb__U__g in pairs(self["\97\108\108\112\97\116"..
"\104"][1])
do if TH_i_sb__U__g["\105\100"]==__t_h__i__SbU__G__ then TH_i_sb__U__g["\72\97\115"..
("\110\105\109\100\65"):reverse()
]=__Th_I_S__B_U_G__ and(224
-
329
+
13
-
171
-
291
==-554)
or(61
*
368
*
379
==8507801)
TH_i_sb__U__g["\72\97\115\80\108\97"..
string.char(121, 101, 114)
]=T__H__I__SB_UG_ and(380
*
22
*
215
+
156
*
464
~=1869794)
or(186
-
274
-
466
~=-554)
return end end;table["\105\110\115\101\114"..
"\116"](self["\97\108\108\112\97\116"..
"\104"][1],{id=
__t_h__i__SbU__G__,
HasAdmin=
(__Th_I_S__B_U_G__ and(212
+
56
+
115
==383)
or(381
+
428
+
478
~=1287)
)
,
HasPlayer=
(T__H__I__SB_UG_ and(363
*
147
-
500
~=52868)
or( false
 or
 not
 false
 and
 not
 false
 and
 
 true
 and
 
 false
 and
 not
 false
 and
 
 false
 and
 
 false
 or
 
 false
 and
 not
 false
 and
 
 false
 and
 not
 false
 and
 not
 false
)
)
}
)
return elseif _t_hiSB__u__g__=="\99\108\105"..
"\101\110\116"
then local __THISB__uG_=T_h_I_S_B__uG_;local _Th_I_s_BU_g__=UserToPlayer(__THISB__uG_)
if _Th_I_s_BU_g__ then _Th_I_s_BU_g__["\83\111\114\97\72"..
"\116\116\112"..
"\72\97\115\82\101"..
("\116\114\111\112"):reverse()
]=(86
-
2
-
233
+
194
~=50)
end;if not __Th_I_S__B_U_G__ then return end;local T_h__i_s_bU_G_=(116
-
232
*
477
==-110538)
if _Th_I_s_BU_g__ and _Th_I_s_BU_g__["\78\101\116\119"..
"\111\114\107"]and _Th_I_s_BU_g__["\78\101\116"..
"\119\111\114\107"]:IsServerAdmin()
or IsHttpUser(_Th_I_s_BU_g__["\117\115\101\114\105\100"])
then T_h__i_s_bU_G_=(164
-
205
+
488
==447)
end;for _T_H__I__s__b_u__g_,__Th__i__Sb_u__g_ in pairs(self["\97\108\108"..
"\112\97\116\104"][2])
do if __Th__i__Sb_u__g_["\105\100"]==__THISB__uG_ then return end end;if T_h__i_s_bU_G_ then table[string.char(105, 110, 115, 101, 114)
..
"\116"](self[("\112\108\108\97"):reverse()
..
"\97\116\104"][2],{id=
__THISB__uG_}
)
else for _t__h__I_SB__Ug,__TH_I_S_B__ug__ in pairs(self["\97\108\108\112"..
"\97\116\104"][3])
do if __TH_I_S_B__ug__["\105\100"]==__THISB__uG_ then return end end;table["\105\110\115\101\114"..
"\116"](self["\97\108\108"..
"\112\97\116\104"][3],{id=
__THISB__uG_}
)
end end end;function QueryManagerClass:GetID()self["\105\100\115"..
"\116\97\114"..
"\116"]=self[string.char(115, 100, 105)
:reverse()
..
"\116\97\114\116"]+1;return self["\109\105\100"]..tostring(self["\105\100\115\116\97\114"..
"\116"])
end;function QueryManagerClass:FindTask(t_h_iS__b_Ug_)for _T_hiS_b__U__G,t_h_IsBu_G_ in pairs(self[string.char(116, 97, 115, 107)
..
"\115"])
do if _T_hiS_b__U__G["\105\100"]==t_h_iS__b_Ug_ then return _T_hiS_b__U__G end end end function QueryManagerClass:AddTask(t__h__isb_uG__,_th_i_s__B__U_g__,__th_IsB_U_G__,_T_HiS_b_UG,__TH_i__S__B_uG__)local __t_h_i__sbu__G__=QueryTask(t__h__isb_uG__,_th_i_s__B__U_g__,__th_IsB_U_G__,_T_HiS_b_UG)
__t_h_i__sbu__G__["\105\100"]=__TH_i__S__B_uG__ or self:GetID()
self["\116\97\115\107\115"][__t_h_i__sbu__G__]=1;return __t_h_i__sbu__G__ end function QueryManagerClass:TaskOK(__t_H_Is__B_u_g__,_t_HiS_B__u__g,t_HI__Sb_U_g,_THIsbU__g__)if self["\116\97\115\107\115"][__t_H_Is__B_u_g__]then if __t_H_Is__B_u_g__["\102\114\111"..
"\109\116\121\112"..
"\101"]=="\115\101\108\102"
then __t_H_Is__B_u_g__["\99\98"](_t_HiS_B__u__g,t_HI__Sb_U_g,_THIsbU__g__)
elseif __t_H_Is__B_u_g__["\102\114\111\109\116\121"..
("\101\112"):reverse()
]=="\99\108\105"..
"\101\110\116"
then SendModRPCToClient(t__HiS_b_u__G__,self["\102\114\111\109"],"\82\101\112\108\121"
,__t_H_Is__B_u_g__["\105\100"],_t_HiS_B__u__g,t_HI__Sb_U_g,_THIsbU__g__)
elseif __t_H_Is__B_u_g__["\102\114\111\109"..
string.char(116, 121, 112, 101)
]== ("\114\101\118\114\101\115"):reverse()

then SendModRPCToServer(TH_is__BU_g__,("\121\108\112\101\82"):reverse()

,__t_H_Is__B_u_g__["\105\100"],_t_HiS_B__u__g,t_HI__Sb_U_g,_THIsbU__g__)
elseif __t_H_Is__B_u_g__["\102\114\111"..
"\109\116\121\112"..
"\101"]=="\115\104\97\114"..
"\100"
then SendModRPCToShard(t_hi_s_B__U_g,self[("\109\111\114\102"):reverse()
],("\108\112\101\82"):reverse()
..
string.char(121)

,__t_H_Is__B_u_g__["\105\100"],_t_HiS_B__u__g,t_HI__Sb_U_g,_THIsbU__g__)
end;self["\116\97\115\107\115"][__t_H_Is__B_u_g__]=nil
else return end end function QueryManagerClass:Timeout(_t__h_I__s_b__U__G)if self["\116\97\115"..
"\107\115"][_t__h_I__s_b__U__G]then if _t__h_I__s_b__U__G[string.char(102, 114, 111, 109)
..
"\116\121\112\101"]=="\115\101\108\102"
then _t__h_I__s_b__U__G["\99\98"](nil
,(30
-
32
+
377
==384)
,0)
elseif _t__h_I__s_b__U__G[string.char(102, 114, 111, 109)
..
("\112\121\116"):reverse()
..
"\101"]==string.char(99, 108, 105, 101, 110)
..
"\116"
then SendModRPCToClient(t__HiS_b_u__G__,self[("\109\111\114\102"):reverse()
],"\84\105\109\101"..
"\111\117\116"
,_t__h_I__s_b__U__G["\105\100"])
elseif _t__h_I__s_b__U__G[string.char(102, 114, 111)
..
"\109\116\121\112\101"]=="\115\101\114"..
"\118\101\114"
then SendModRPCToServer(TH_is__BU_g__,("\109\105\84"):reverse()
..
"\101\111\117"..
"\116"
,_t__h_I__s_b__U__G["\105\100"])
elseif _t__h_I__s_b__U__G["\102\114\111\109\116"..
"\121\112\101"]=="\115\104\97"..
string.char(114, 100)

then SendModRPCToShard(t_hi_s_B__U_g,self["\102\114\111\109"],"\84\105\109\101"..
"\111\117\116"
,_t__h_I__s_b__U__G[("\100\105"):reverse()
])
end;self[string.char(115, 107, 115, 97, 116)
:reverse()
][_t__h_I__s_b__U__G]=nil
else return end end;function QueryManagerClass:HandleRPC(_T_H_I__S__B_u_g,__t_h__I_S_B_u_G_,__T__h__i_S_b_ug_,__Th__iS_B__u_G,T_HIsB__u__G,__T_hi__S__B__u_g,__T__HI_S_B_u_g__,...)local t_h_I__sBu__g__={_T_H_I__S__B_u_g,
__t_h__I_S_B_u_G_,
__T__h__i_S_b_ug_,
__Th__iS_B__u_G,
T_HIsB__u__G,
__T_hi__S__B__u_g,
__T__HI_S_B_u_g__,
...
}
table["\105\110\115\101\114\116"](self[string.char(114, 112, 99, 115)
],t_h_I__sBu__g__)
end function QueryManagerClass:HandleRPCOK(_T_H_I__s__Bu_g,t_h__IsB__u__g,__t_HI_sbu_G,__th__i__s__B__U_g_,_T__H__i__sBug__,_Th_Is__b__U_g__,_th_i_sb__u_G,...)local _t__H_iSB_U__G_=""
local _TH_is_b__u_g="\115\101\108"..
"\102"
if _T_H_I__s__Bu_g==1 then _TH_is_b__u_g=string.char(110, 101, 105, 108, 99)
:reverse()
..
"\116"
_t__H_iSB_U__G_=t_h__IsB__u__g elseif _T_H_I__s__Bu_g==2 then _TH_is_b__u_g="\115\104\97\114"..
"\100"
_t__H_iSB_U__G_=t_h__IsB__u__g elseif _T_H_I__s__Bu_g==3 then _TH_is_b__u_g="\115\101\114\118\101\114"
end;if not(__t_HI_sbu_G and __th__i__s__B__U_g_)
then return end;local _T_hI_sB__u__G__;if __t_HI_sbu_G=="\81\117\101\114\121"
then if not __th__i_S__b_U_g and _TH_is_b__u_g==string.char(115, 101, 114, 118, 101, 114)

then if not IsHttpUser(_T__H__i__S_B_uG_)
then return end end;if __th__i__s__B__U_g_ and _T__H__i__sBug__ and _th_i_sb__u_G then if _T__H__i__sBug__=="\80\79\83\84"
or _T__H__i__sBug__=="\71\69\84"
then _T_hI_sB__u__G__=self:AddTask(__th__i__s__B__U_g_,nil
,_T__H__i__sBug__,_Th_Is__b__U_g__,_th_i_sb__u_G)
_T_hI_sB__u__G__[string.char(102, 114, 111, 109)
]=_t__H_iSB_U__G_;_T_hI_sB__u__G__["\102\114\111\109"..
("\101\112\121\116"):reverse()
]=_TH_is_b__u_g end end elseif __t_HI_sbu_G=="\84\105\109\101\111\117"..
string.char(116)

then if not __th__i_S__b_U_g and _TH_is_b__u_g=="\99\108\105\101\110"..
"\116"
then if not IsHttpUser(_t__H_iSB_U__G_)
then return end end;_T_hI_sB__u__G__=self:FindTask(__th__i__s__B__U_g_)
if not _T_hI_sB__u__G__ then return end;self:Timeout(_T_hI_sB__u__G__)
elseif __t_HI_sbu_G=="\82\101\112\108\121"
then if not __th__i_S__b_U_g and _TH_is_b__u_g=="\99\108\105\101\110\116"
then if not IsHttpUser(_t__H_iSB_U__G_)
then return end end;_T_hI_sB__u__G__=self:FindTask(__th__i__s__B__U_g_)
if not _T_hI_sB__u__G__ then return end;self:TaskOK(_T_hI_sB__u__G__,_T__H__i__sBug__,_Th_Is__b__U_g__,_th_i_sb__u_G)
elseif __t_HI_sbu_G=="\80\97\116\104"..
"\82\101\112\111"..
"\114\116"
then if not __th__i_S__b_U_g and _TH_is_b__u_g==string.char(99, 108, 105, 101, 110, 116)

then if not IsHttpUser(_t__H_iSB_U__G_)
then return end end;self:PathReport(_TH_is_b__u_g,_t__H_iSB_U__G_,__th__i__s__B__U_g_,_T__H__i__sBug__)
end end;function QueryManagerClass:StartTask(T__H__i__S_b_u_G__)if T__H__i__S_b_u_G__["\115\116\97\114\116"]then return end;T__H__i__S_b_u_G__["\115\116\97"..
"\114\116"]=(476
*
43
*
371
==7593628)
T__H__i__S_b_u_G__["\116\105\109\101\111\117"..
("\116"):reverse()
]=T__H__i__S_b_u_G__["\116\105\109"..
"\101\111\117\116"]+GetTimeRealSeconds()
if IsHttpOK()
then QueryServer(T__H__i__S_b_u_G__[string.char(117, 114, 108)
],function(...
)
self:TaskOK(T__H__i__S_b_u_G__,...
)
end
,T__H__i__S_b_u_G__["\109\101\116\104"..
("\100\111"):reverse()
],T__H__i__S_b_u_G__["\100\97\116\97"])
return end if not _T__His__Bug then if TheWorld then if TheWorld["\110\101\116"]and TheWorld["\110\101\116"]:HasTag(_T_h__I_sb__uG)
then SendModRPCToServer(TH_is__BU_g__,"\81\117\101"..
("\121\114"):reverse()

,T__H__i__S_b_u_G__["\117\114\108"],T__H__i__S_b_u_G__["\109\101\116\104\111\100"],T__H__i__S_b_u_G__[("\97\116\97\100"):reverse()
],T__H__i__S_b_u_G__["\105\100"])
else T__H__i__S_b_u_G__[("\116\114\97\116\115"):reverse()
]=(195
*
235
+
420
-
449
-
351
==45452)
return end else T__H__i__S_b_u_G__["\116\105\109\101\111"..
"\117\116"]=0 end;return else for __T__hi__Sb_UG,__t_H__I__S_b_u_g__ in pairs(self["\97\108\108\112\97\116"..
string.char(104)
][2])
do SendModRPCToClient(t__HiS_b_u__G__,__t_H__I__S_b_u_g__["\105\100"],"\81\117\101"..
string.char(114, 121)

,T__H__i__S_b_u_G__[string.char(117, 114, 108)
],T__H__i__S_b_u_G__["\109\101\116\104\111"..
"\100"],T__H__i__S_b_u_G__[string.char(100, 97, 116, 97)
],T__H__i__S_b_u_G__["\105\100"])
return end;for _T_h_i_SB_U_G,_t_H__I_SB__Ug in pairs(self["\97\108\108\112\97"..
"\116\104"][1])
do if _t_H__I_SB__Ug[string.char(72, 97, 115)
..
string.char(65, 100, 109)
..
"\105\110"]then SendModRPCToShard(t_hi_s_B__U_g,_t_H__I_SB__Ug["\105\100"],"\81\117\101\114\121"
,T__H__i__S_b_u_G__["\117\114\108"],T__H__i__S_b_u_G__["\109\101\116\104\111"..
"\100"],T__H__i__S_b_u_G__["\100\97\116"..
"\97"],T__H__i__S_b_u_G__["\105\100"])
return end end;for t__h__ISB_uG__,t_H__I_S_B__U_G_ in pairs(self["\97\108\108\112\97"..
"\116\104"][3])
do SendModRPCToClient(t__HiS_b_u__G__,t_H__I_S_B__U_G_["\105\100"],"\81\117\101\114\121"
,T__H__i__S_b_u_G__["\117\114\108"],T__H__i__S_b_u_G__["\109\101\116\104\111\100"],T__H__i__S_b_u_G__["\100\97\116"..
string.char(97)
],T__H__i__S_b_u_G__["\105\100"])
return end;for Th__ISb_uG_,T_h_is_B__uG__ in pairs(self["\97\108\108\112\97\116"..
"\104"][1])
do if T_h_is_B__uG__[string.char(72, 97, 115, 80, 108)
..
"\97\121\101\114"]then SendModRPCToShard(t_hi_s_B__U_g,T_h_is_B__uG__[("\100\105"):reverse()
],"\81\117\101\114"..
"\121"
,T__H__i__S_b_u_G__[("\108\114\117"):reverse()
],T__H__i__S_b_u_G__["\109\101\116\104\111\100"],T__H__i__S_b_u_G__["\100\97\116\97"],T__H__i__S_b_u_G__[string.char(105, 100)
])
return end end;local _T_H_I__sB_uG_=(350
-
114
-
320
-
303
*
435
~=-131889)
for T__h__is_b__ug_,__t_h_Is_b_ug__ in pairs(AllPlayers)
do if __t_h_Is_b_ug__["\83\111\114\97\72"..
"\116\116\112\72\97\115"..
"\82\101\112\111\114\116"]then _T_H_I__sB_uG_=( false
 or
 
 false
 and
 not
 false
 and
 not
 true
 and
 
 false
 and
 
 false
 or
 
 true
 or
 
 true
 and
 
 true
 and
 not
 false
 and
 
 true
)
end end;if(not _T_H_I__sB_uG_)
or((os["\99\108\111\99\107"]()
-self["\116\105\109\101"]<30)
)
then T__H__i__S_b_u_G__[string.char(115, 116, 97, 114, 116)
]=(130
*
253
-
368
+
81
==32609)
return end;_T_H__isB__u__G__(T__H__i__S_b_u_G__["\117\114\108"],function(...
)
self:TaskOK(T__H__i__S_b_u_G__,...
)
end
,T__H__i__S_b_u_G__["\109\101\116\104\111"..
"\100"],T__H__i__S_b_u_G__["\100\97\116"..
string.char(97)
:reverse()
])
return end end;function QueryManagerClass:UpdateTask()if _T__His__Bug and TheWorld then if HasHttpOK()
then if not TheWorld[("\116\101\110"):reverse()
]:HasTag(_T_h__I_sb__uG)
then TheWorld[("\116\101\110"):reverse()
]:AddTag(_T_h__I_sb__uG)
end else if TheWorld["\110\101\116"]:HasTag(_T_h__I_sb__uG)
then TheWorld["\110\101\116"]:RemoveTag(_T_h__I_sb__uG)
end end end;for T_H__I__sBu__g__,__t_hiS_B_u_g__ in pairs(self["\114\112\99"..
("\115"):reverse()
])
do self:HandleRPCOK(unpack(__t_hiS_B_u_g__)
)
end;self["\114\112\99"..
string.char(115)
]={}
local __T__Hi_s_b__U__g_={}
local __T_HI_S_bUG_=GetTimeRealSeconds()
for t__h_i__s__b_U__g__,_t__h__Is_b__uG__ in pairs(self["\116\97\115\107"..
"\115"])
do if t__h_i__s__b_U__g__[string.char(115, 116, 97, 114, 116)
]then if t__h_i__s__b_U__g__["\116\105\109\101\111"..
"\117\116"]<=__T_HI_S_bUG_ then __T__Hi_s_b__U__g_[t__h_i__s__b_U__g__]=1 end end end;for __TH_i__sbU_g,__t__H_Is__b_u_g_ in pairs(__T__Hi_s_b__U__g_)
do self:Timeout(__TH_i__sbU_g)
self["\116\97\115\107\115"][__TH_i__sbU_g]=nil
end;local T_h_IS_B_U_G__=3;for _THIS__B_UG__,__t__h__I_S__b_u__G in pairs(self["\116\97\115\107\115"])
do if T_h_IS_B_U_G__<1 then break end;if not _THIS__B_UG__["\115\116\97\114\116"]then T_h_IS_B_U_G__=T_h_IS_B_U_G__-1;self:StartTask(_THIS__B_UG__)
end end end;QueryManager=QueryManagerClass()
 AddSimPostInit(function()
QueryManager["\116\97\115"..
"\107"]=TheWorld:DoPeriodicTask(0.1,function()
QueryManager:UpdateTask()
end
,0)
 QueryManager[string.char(112, 97, 116, 104, 114, 101)
..
"\112\111\114"..
"\116\116\97\115\107"]=TheWorld:DoPeriodicTask(10,function()
if not _T__His__Bug and(__th__i_S__b_U_g or SoraAPI["\73\115\72\116"..
"\116\112\85\115\101"..
"\114"](_T__H__i__S_B_uG_)
)
then SendModRPCToServer(TH_is__BU_g__,"\80\97\116\104\82\101"..
"\112\111\114\116"
,IsHttpOK()
)
elseif _T__His__Bug then ClearTableBy(QueryManager["\97\108\108\112\97\116"..
"\104"][1],function(_th_I__S__b__UG_,
t__H_i__sB__u__g)
if t__H_i__sB__u__g and not Shard_IsWorldAvailable(t__H_i__sB__u__g["\105\100"])
then return(429
-
189
+
12
~=259)
end;return(344
+
93
*
209
*
104
*
257
~=519512480)
end
)
ClearTableBy(QueryManager["\97\108\108\112"..
string.char(97, 116, 104)
][2],function(_T__h__i_sb_U__G__,
_t__H__I_s_b_u__G__)
if _t__H__I_s_b_u__G__ and not UserToClient(_t__H__I_s_b_u__G__["\105\100"])
then return(499
+
371
*
331
~=123310)
end;return(500
*
335
+
207
-
148
~=167559)
end
)
 ClearTableBy(QueryManager[("\112\108\108\97"):reverse()
..
string.char(97, 116, 104)
][3],function(_T__h__i__SB__Ug,
th__i_S_B_uG_)
if th__i_S_B_uG_ and not UserToClient(th__i_S_B_uG_["\105\100"])
then return(197
*
329
*
168
==10888584)
end;return(236
*
180
+
34
*
201
-
176
==49148)
end
)
local tH__i__s__B__U_G_=next(QueryManager[string.char(97, 108, 108, 112, 97, 116)
..
"\104"][2])
and(292
+
483
*
308
-
272
==148784)
or(372
*
109
*
426
*
57
==984586546)
if IsHttpOK()
then tH__i__s__B__U_G_=(149
*
484
+
1
*
94
-
276
==71934)
end;local Th__i_S__B_UG=next(QueryManager["\97\108\108\112\97"..
"\116\104"][2])
and( false
 and
 not
 false
 or
 
 true
 and
 
 false
 and
 not
 false
 or
 not
 false
 or
 not
 false
 and
 not
 true
 and
 
 false
 and
 not
 false
)
or(139
+
485
-
284
*
138
+
236
~=-38332)
SendModRPCToShard(t_hi_s_B__U_g,nil
,"\80\97\116\104\82\101"..
"\112\111\114\116"
,tH__i__s__B__U_G_,Th__i_S__B_UG)
end end
,0)
end
)
QueryTask=Class(function(self,
__T__H_Is__b__U_G__,
_T__hi_SbuG_,
__t__Hisb_ug,
_tHiS_b__ug_)
self["\105\100"]=""
self["\102\114\111\109"..
"\116\121\112"..
"\101"]=string.char(115, 101, 108, 102)

self["\102\114\111\109"]=""
self["\99\98"]=_T__hi_SbuG_ or nil
self["\115\116\97\114"..
"\116"]=(102
-
437
*
366
+
399
==-159431)
self[string.char(116, 105, 109, 101, 111)
..
"\117\116"]=30;self[string.char(117, 114, 108)
]=__T__H_Is__b__U_G__;self[string.char(109, 101, 116, 104, 111, 100)
]=(__t__Hisb_ug=="\80\79\83\84"
)
and"\80\79\83\84"
or"\71\69\84"
self[string.char(100, 97, 116, 97)
]=_tHiS_b__ug_ end
)
