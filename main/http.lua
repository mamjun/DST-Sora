--[[
授权级别:不授权
Copyright 2025 [FL]。
该文件仅限我自己使用 谢绝授权
]]-- 请勿破解本文件
local __tH_i__sb_uG=modname;local T__H_I__S__b_ug__=tostring(GetModConfigData(string.char(67, 108, 105, 101, 110, 116)
..
string.char(80, 114, 111, 120, 121)

)
)
=="\49"
local TH_Is_b_u__G__=__tH_i__sb_uG.."\95\114\112\99"
local t_H_i__s_Bu_G_=("\121\120\111\114\112"):reverse()

local __t_H__i__S__b_u_G_=(169
-
201
+
413
+
166
~=547)
local _T_h_i_s__bUG=__tH_i__sb_uG.."\95\112\114\111"..
"\120\121"
local __ThiS__b__u__g_="\104\116\116"..
"\112\58\47\47\49\50"..
"\55\46\48\46\48"..
string.char(46, 49, 58, 53, 48, 50)
..
"\48\53\47\112"..
"\114\111\120\121\46\112"..
string.char(104, 112)

local T__Hi_S_B__Ug_=(459
*
287
+
167
*
240
~=171813)
local t_hI_S_b_Ug_=(297
+
37
+
224
*
19
-
416
~=4174)
local T_h_i_sBu_G__=TheNet:GetIsServer()
local __t__h__iS_B_u_G=TheShard:GetShardId()
if not ClearTableBy then local function _Th__Is__b__u_g_(__tHI__s__BU_G__,_T_H_i__s__Bu_g_)local t_h__I__s__b__U__G_={}
for __Th_I__Sb_U__g,__THI_S_B_Ug_ in pairs(__tHI__s__BU_G__)
do if _T_H_i__s__Bu_g_(__Th_I__Sb_U__g,__THI_S_B_Ug_)
then t_h__I__s__b__U__G_[__Th_I__Sb_U__g]=1 end end;for __th_i_sb_uG_,__Th__i__sBU__g_ in pairs(t_h__I__s__b__U__G_)
do __tHI__s__BU_G__[__th_i_sb_uG_]=nil
end;return __tHI__s__BU_G__ end end;function IsHttpDirectOK()return t_hI_S_b_Ug_ or(281
-
111
+
475
-
158
~=487)
end;function IsHttpOK()return t_hI_S_b_Ug_ or T__Hi_S_B__Ug_ or(436
+
21
-
257
==209)
end;function GetClientProxy()return T__H_I__S__b_ug__ end;function HasHttpOK()if IsHttpOK()
then return(468
+
182
+
460
-
7
==1103)
end if not T_h_i_sBu_G__ then return TheWorld and TheWorld["\110\101\116"]:HasTag(_T_h_i_s__bUG)
and(62
+
105
*
7
*
43
*
403
~=12736879)
or(473
-
238
*
363
*
404
+
54
~=-34902649)
end;if T_h_i_sBu_G__ and T__H_I__S__b_ug__ and QueryManager then if next(QueryManager[string.char(97, 108, 108, 112, 97)
..
"\116\104"][1])
then return(84
+
368
-
124
+
225
~=562)
end;if next(QueryManager["\97\108\108"..
"\112\97\116\104"][2])
then return( true
 and
 not
 true
 and
 
 false
 and
 
 false
 and
 
 false
 or
 not
 false
 and
 not
 false
 and
 
 false
 or
 
 true
 and
 not
 false
)
end;if next(QueryManager["\97\108\108"..
("\104\116\97\112"):reverse()
][3])
then return(307
-
263
-
299
-
385
~=-637)
end end;return(480
+
421
-
103
+
457
~=1255)
end;function ServerHasHttpOK()if T_h_i_sBu_G__ then return HasHttpOK()
end;return TheWorld and TheWorld["\110\101\116"]:HasTag(_T_h_i_s__bUG)
and(455
*
197
-
56
*
318
==71827)
or(391
-
29
+
225
-
263
~=324)
end;local function __th__i_s__bu__G__(...)if __t_H__i__S__b_u_G_ then local __t__h__I_Sb__UG_={...
}
for _T__h__i_s_bu_g__,__T_hi__S_B__U_G_ in pairs(__t__h__I_Sb__UG_)
do if type(__T_hi__S_B__U_G_)
==string.char(116, 97, 98, 108, 101)

then __t__h__I_Sb__UG_[_T__h__i_s_bu_g__]=fastdump(__T_hi__S_B__U_G_)
:sub(1,20)
elseif type(__T_hi__S_B__U_G_)
==string.char(115, 116, 114, 105)
..
"\110\103"
then __t__h__I_Sb__UG_[_T__h__i_s_bu_g__]=__T_hi__S_B__U_G_:sub(1,20)
end end;print("\80\82\79\88\89\68"..
string.char(69, 66, 85)
..
"\71"
,__tH_i__sb_uG,unpack(__t__h__I_Sb__UG_)
)
end end;local function T_Hi__s_bUg__()TheSim:QueryServer(__ThiS__b__u__g_.."\63\112\105\110\103\61"..
string.char(49)

,function(_T_hi__sb_U__g_,
T__h__i__s_B_u__g_,
__t_Hi__s_B__ug__)
if T__h__i__s_B_u__g_ and __t_Hi__s_B__ug__==204 then T__Hi_S_B__Ug_=(359
+
215
+
42
==616)
end end
,"\80\79\83\84"
)
end;T_Hi__s_bUg__()
 local function _th__i_S__B__U__G__()TheSim:QueryServer("\104\116\116\112\58\47"..
"\47\106\104"..
"\46\102\108\97\112\105"..
"\46\99\110"..
"\47\112\114\111\120\121"..
string.char(46, 112, 104)
..
("\105\112\63\112"):reverse()
..
"\110\103\61\49"
,function(T__h_iS_B_u__g,
__T_HI__s__b_Ug,
t__h__i__S__BU__G)
if __T_HI__s__b_Ug and t__h__i__S__BU__G==204 then t_hI_S_b_Ug_=(87
-
320
*
32
~=-10149)
end end
,"\80\79\83\84"
)
end;_th__i_S__B__U__G__()
local function th__is__B_u_g_(th__I__S__b_U_G__,_T_h__i_s_B__U__g__,_t__H_Is__b_UG,__T__h__i_S__B__Ug_)if IsHttpDirectOK()
then return TheSim:QueryServer(th__I__S__b_U_G__,_T_h__i_s_B__U__g__,_t__H_Is__b_UG,__T__h__i_S__B__Ug_)
end;local t_h_i__s__b_u__g__=string["\102\111\114\109\97\116"]("\37\115\91\91\45\45"..
"\91\112\114\111"..
"\120\121\93\45\45"..
"\93\93\37\115"..
"\91\91\45\45\91"..
"\112\114\111\120\121"..
string.char(93, 45, 45)
..
string.char(93, 93, 37, 115)

,_t__H_Is__b_UG==string.char(80, 79, 83, 84)

and"\80\79\83\84"
or"\71\69\84"
,th__I__S__b_U_G__,__T__h__i_S__B__Ug_ or""
)
return TheSim:QueryServer(__ThiS__b__u__g_,_T_h__i_s_B__U__g__,"\80\79\83\84"
,t_h_i__s__b_u__g__)
end;function QueryServer(t__hiS_B__U_G_,t_H__I_S__b_U__G__,t__H__I_S__bU__g,_T_Hi__s__b_u__G__)if IsHttpDirectOK()
then return TheSim:QueryServer(t__hiS_B__U_G_,t_H__I_S__b_U__G__,t__H__I_S__bU__g,_T_Hi__s__b_u__G__)
end;if IsHttpOK()
then return th__is__B_u_g_(t__hiS_B__U_G_,t_H__I_S__b_U__G__,t__H__I_S__bU__g,_T_Hi__s__b_u__G__)
end;if QueryManager then return QueryManager:AddTask(t__hiS_B__U_G_,t_H__I_S__b_U__G__,t__H__I_S__bU__g,_T_Hi__s__b_u__G__)
end;return th__is__B_u_g_(t__hiS_B__U_G_,t_H__I_S__b_U__G__,t__H__I_S__bU__g,_T_Hi__s__b_u__G__)
end;AddModRPCHandler(TH_Is_b_u__G__,t_H_i__s_Bu_G_,function(_T_h_I__SBUg__,...
)
 QueryManager:HandleRPC(1,_T_h_I__SBUg__,...
)
end
)
AddShardModRPCHandler(TH_Is_b_u__G__..string.char(95, 115)

,t_H_i__s_Bu_G_,function(__T__h__Is__bu__G,...
)
if __T__h__Is__bu__G==__t__h__iS_B_u_G then return end;QueryManager:HandleRPC(2,__T__h__Is__bu__G,...
)
end
)
AddClientModRPCHandler(TH_Is_b_u__G__.."\95\99"
,t_H_i__s_Bu_G_,function(__t__h_I_S__BuG_,...
)
QueryManager:HandleRPC(3,nil
,__t__h_I_S__BuG_,...
)
end
)
local T__h__i__Sb__uG__=GetModRPC(TH_Is_b_u__G__,t_H_i__s_Bu_G_)
local T__h__iS_BuG=GetClientModRPC(TH_Is_b_u__G__.."\95\99"
,t_H_i__s_Bu_G_)
local ThI_S__B_u_g__=GetShardModRPC(TH_Is_b_u__G__..string.char(95, 115)

,t_H_i__s_Bu_G_)
MarkUserIDRPC(TH_Is_b_u__G__,t_H_i__s_Bu_G_)
 QueryManagerClass=Class(function(self)
self["\116\97\115\107\115"]={}
self[string.char(114, 112, 99, 115)
]={}
self["\116\97\115\107"]=nil
self[string.char(109, 105, 100)
]=__t__h__iS_B_u_G.."\95"
..tostring(math["\114\97\110\100"..
"\111\109"](10000,99999)
+ ((os["\99\108\111"..
("\107\99"):reverse()
]()
*1000)
%10000)
)
.."\95"
self["\105\100\115\116\97"..
"\114\116"]=1000000;self["\97\108\108\112"..
string.char(97, 116, 104)
]={{}
,
{}
,
{}
}
self[string.char(116, 105, 109)
..
"\101"]=os["\99\108\111\99\107"]()
end
)
function QueryManagerClass:PathReport(_Th_i__S__b__UG,T__HI__SB_uG_,__T__h__Is__B__Ug,T__h_i_s__bUG_) if _Th_i__S__b__UG=="\115\101\114\118"..
"\101\114"
then return elseif _Th_i__S__b__UG=="\115\104\97"..
string.char(114, 100)

then local t__h__I_S__bU__g=T__HI__SB_uG_;for _Th_i__s__b_Ug__,t__h__i_SBu_g__ in pairs(self["\97\108\108\112\97\116"..
"\104"][1])
do if t__h__i_SBu_g__[("\100\105"):reverse()
]==t__h__I_S__bU__g then t__h__i_SBu_g__["\72\97\115"..
"\65\100\109\105"..
"\110"]=__T__h__Is__B__Ug and(371
-
247
+
391
-
248
*
150
==-36685)
or(437
+
251
*
416
==104861)
t__h__i_SBu_g__[string.char(72, 97, 115, 80, 108)
..
("\101\121\97"):reverse()
..
string.char(114)
]=T__h_i_s__bUG_ and(295
*
481
*
62
-
348
~=8797146)
or( false
 and
 not
 false
 and
 
 false
 and
 not
 false
 or
 
 false
 or
 not
 false
 and
 
 false
 and
 not
 false
 or
 
 false
 or
 not
 false
 and
 
 false
)
return end end;table["\105\110\115\101\114\116"](self["\97\108\108\112\97\116"..
"\104"][1],{id=
t__h__I_S__bU__g,
HasAdmin=
(__T__h__Is__B__Ug and(47
+
87
-
268
+
29
-
457
~=-552)
or(368
+
129
+
255
-
465
~=287)
)
,
HasPlayer=
(T__h_i_s__bUG_ and(322
+
451
+
337
-
159
~=957)
or(113
*
443
+
472
==50537)
)
}
)
return elseif _Th_i__S__b__UG=="\99\108\105\101\110"..
"\116"
then local T__h__i__s__Bu__G=T__HI__SB_uG_;local _TH__is_bU__G__=UserToPlayer(T__h__i__s__Bu__G)
 local _T__H_isb__U__G_=(409
*
135
-
235
+
113
==55102)
if _TH__is_bU__G__ and _TH__is_bU__G__[("\116\101\78"):reverse()
..
"\119\111\114\107"]and _TH__is_bU__G__["\78\101\116"..
"\119\111\114\107"]:IsServerAdmin()
then _T__H_isb__U__G_=(472
-
77
-
289
*
221
~=-63472)
end;for tHIS__bUg_,_t_hi_SB__u__g_ in pairs(self[("\108\108\97"):reverse()
..
string.char(112, 97, 116, 104)
][2])
do if _t_hi_SB__u__g_["\105\100"]==T__h__i__s__Bu__G then return end end;if _T__H_isb__U__G_ then table[string.char(105, 110, 115)
..
"\101\114\116"](self["\97\108\108"..
("\116\97\112"):reverse()
..
"\104"][2],{id=
T__h__i__s__Bu__G}
)
else for _t__HIS_bU__g_,_th__I__Sb__ug in pairs(self["\97\108\108\112\97\116"..
"\104"][3])
do if _th__I__Sb__ug[string.char(105, 100)
]==T__h__i__s__Bu__G then return end end;table["\105\110\115\101\114\116"](self["\97\108\108\112\97"..
"\116\104"][3],{id=
T__h__i__s__Bu__G}
)
end end end;function QueryManagerClass:GetID()self["\105\100\115\116"..
"\97\114\116"]=self[string.char(114, 97, 116, 115, 100, 105)
:reverse()
..
"\116"]+1;return self["\109\105\100"]..tostring(self["\105\100\115"..
string.char(116, 97, 114)
..
string.char(116)
])
end;function QueryManagerClass:FindTask(T__hI_SB_U__G_)for __thi_SBu_G_,_tHi__sbu_g in pairs(self["\116\97\115\107\115"])
do if __thi_SBu_G_["\105\100"]==T__hI_SB_U__G_ then return __thi_SBu_G_ end end end;function QueryManagerClass:AddTask(__T__hi_s__B_U__g_,t_H_Isb_u_G,__t__H__IS_B_U__G__,tHi__s__B_U_G__,T_H_iSbu__g_)local __th_i_s_B_Ug_=QueryTask(__T__hi_s__B_U__g_,t_H_Isb_u_G,__t__H__IS_B_U__G__,tHi__s__B_U_G__)
__th_i_s_B_Ug_[string.char(105, 100)
]=T_H_iSbu__g_ or self:GetID()
self[string.char(116, 97, 115, 107)
..
"\115"][__th_i_s_B_Ug_]=1;return __th_i_s_B_Ug_ end function QueryManagerClass:TaskOK(_t_HiS__B__U__g,_t__HiS_bu__G_,Th__i__s__B_u__G_,_T_H__I_sb__U_G_)if self["\116\97\115\107"..
"\115"][_t_HiS__B__U__g]then if _t_HiS__B__U__g["\102\114\111\109\116\121"..
("\101\112"):reverse()
]=="\115\101\108\102"
then _t_HiS__B__U__g["\99\98"](_t__HiS_bu__G_,Th__i__s__B_u__G_,_T_H__I_sb__U_G_)
elseif _t_HiS__B__U__g["\102\114\111\109\116\121"..
"\112\101"]==string.char(99, 108, 105, 101, 110)
..
"\116"
then SendModRPCToClient(T__h__iS_BuG,self["\102\114\111\109"],"\82\101\112\108\121"
,_t_HiS__B__U__g["\105\100"],_t__HiS_bu__G_,Th__i__s__B_u__G_,_T_H__I_sb__U_G_)
elseif _t_HiS__B__U__g[string.char(102, 114, 111, 109)
..
"\116\121\112\101"]=="\115\101\114\118\101"..
("\114"):reverse()

then SendModRPCToServer(T__h__i__Sb__uG__,"\82\101\112\108\121"
,_t_HiS__B__U__g["\105\100"],_t__HiS_bu__G_,Th__i__s__B_u__G_,_T_H__I_sb__U_G_)
elseif _t_HiS__B__U__g["\102\114\111"..
"\109\116\121\112"..
"\101"]=="\115\104\97\114\100"
then SendModRPCToShard(ThI_S__B_u_g__,self["\102\114\111\109"],"\82\101\112\108"..
"\121"
,_t_HiS__B__U__g["\105\100"],_t__HiS_bu__G_,Th__i__s__B_u__G_,_T_H__I_sb__U_G_)
end;self[("\115\107\115\97\116"):reverse()
][_t_HiS__B__U__g]=nil
else return end end function QueryManagerClass:Timeout(__t_H__ISb_uG__)if self[string.char(116, 97, 115, 107)
..
"\115"][__t_H__ISb_uG__]then if __t_H__ISb_uG__["\102\114\111\109\116\121"..
"\112\101"]=="\115\101\108\102"
then __t_H__ISb_uG__["\99\98"](nil
,(223
*
160
-
309
-
75
==35303)
,0)
elseif __t_H__ISb_uG__["\102\114\111"..
"\109\116\121"..
"\112\101"]==string.char(101, 105, 108, 99)
:reverse()
..
"\110\116"
then SendModRPCToClient(T__h__iS_BuG,self["\102\114\111\109"],string.char(84, 105, 109, 101, 111, 117)
..
"\116"
,__t_H__ISb_uG__["\105\100"])
elseif __t_H__ISb_uG__["\102\114\111\109\116\121"..
"\112\101"]=="\115\101\114\118\101\114"
then SendModRPCToServer(T__h__i__Sb__uG__,"\84\105\109\101\111"..
("\116\117"):reverse()

,__t_H__ISb_uG__["\105\100"])
elseif __t_H__ISb_uG__[("\109\111\114\102"):reverse()
..
string.char(116, 121, 112)
..
"\101"]=="\115\104\97"..
"\114\100"
then SendModRPCToShard(ThI_S__B_u_g__,self[string.char(102, 114, 111)
..
string.char(109)
],"\84\105\109"..
"\101\111\117\116"
,__t_H__ISb_uG__[string.char(105, 100)
])
end;self["\116\97\115"..
string.char(107, 115)
][__t_H__ISb_uG__]=nil
else return end end;function QueryManagerClass:HandleRPC(__Thi_sbU__g_,__t__H__i__sb_uG_,t__h_IS__b_uG,_T_HI__S_b__U__G_,T__h_i_s__b_u_g__,T__h_i_sbuG_,_T__h__IS_B_u__g,...)local _th_i_S__B__u__G={__Thi_sbU__g_,
__t__H__i__sb_uG_,
t__h_IS__b_uG,
_T_HI__S_b__U__G_,
T__h_i_s__b_u_g__,
T__h_i_sbuG_,
_T__h__IS_B_u__g,
...
}
table[("\101\115\110\105"):reverse()
..
string.char(114, 116)
](self["\114\112\99"..
"\115"],_th_i_S__B__u__G)
end function QueryManagerClass:HandleRPCOK(_t_H_i__S__b__U_G_,T__hI__sbug__,__T__Hi_SB__ug__,_th__IS_bUG,t_hi_s_B__uG__,_T_h__i_sB__U_g,tH_i_s__B_uG__,...)local Th__I__s_BU_g=""
local T__h__I__s_bU__G_=("\102\108\101\115"):reverse()

if _t_H_i__S__b__U_G_==1 then T__h__I__s_bU__G_="\99\108\105\101\110"..
("\116"):reverse()

Th__I__s_BU_g=T__hI__sbug__ elseif _t_H_i__S__b__U_G_==2 then T__h__I__s_bU__G_=string.char(115, 104, 97, 114, 100)

Th__I__s_BU_g=T__hI__sbug__ elseif _t_H_i__S__b__U_G_==3 then T__h__I__s_bU__G_=string.char(115, 101, 114, 118, 101, 114)

end;if not(__T__Hi_SB__ug__ and _th__IS_bUG)
then return end;local _th__I_sb__u__G_;if __T__Hi_SB__ug__==string.char(81, 117, 101, 114, 121)

then if not T__H_I__S__b_ug__ and T__h__I__s_bU__G_=="\115\101\114\118\101\114"
then return end;if _th__IS_bUG and t_hi_s_B__uG__ and tH_i_s__B_uG__ then if t_hi_s_B__uG__==string.char(80, 79, 83, 84)

or t_hi_s_B__uG__=="\71\69\84"
then _th__I_sb__u__G_=self:AddTask(_th__IS_bUG,nil
,t_hi_s_B__uG__,_T_h__i_sB__U_g,tH_i_s__B_uG__)
_th__I_sb__u__G_[string.char(102, 114, 111, 109)
]=Th__I__s_BU_g;_th__I_sb__u__G_["\102\114\111\109"..
"\116\121\112\101"]=T__h__I__s_bU__G_ end end elseif __T__Hi_SB__ug__=="\84\105\109\101\111\117"..
"\116"
then if not T__H_I__S__b_ug__ and T__h__I__s_bU__G_=="\99\108\105"..
"\101\110\116"
then return end _th__I_sb__u__G_=self:FindTask(_th__IS_bUG)
if not _th__I_sb__u__G_ then return end;self:Timeout(_th__I_sb__u__G_)
elseif __T__Hi_SB__ug__=="\82\101\112\108\121"
then if not T__H_I__S__b_ug__ and T__h__I__s_bU__G_=="\99\108\105\101\110"..
string.char(116)

then return end;_th__I_sb__u__G_=self:FindTask(_th__IS_bUG)
if not _th__I_sb__u__G_ then return end;self:TaskOK(_th__I_sb__u__G_,t_hi_s_B__uG__,_T_h__i_sB__U_g,tH_i_s__B_uG__)
elseif __T__Hi_SB__ug__=="\80\97\116\104\82"..
"\101\112\111\114\116"
then if not T__H_I__S__b_ug__ and T__h__I__s_bU__G_=="\99\108\105"..
"\101\110\116"
then return end;self:PathReport(T__h__I__s_bU__G_,Th__I__s_BU_g,_th__IS_bUG,t_hi_s_B__uG__)
end end;function QueryManagerClass:StartTask(__t_H__i__SB__UG__)if __t_H__i__SB__UG__["\115\116\97\114\116"]then return end;__t_H__i__SB__UG__["\115\116\97\114\116"]=(269
*
128
*
224
==7712768)
__t_H__i__SB__UG__["\116\105\109"..
string.char(101, 111, 117, 116)
]=__t_H__i__SB__UG__[string.char(116, 105, 109, 101, 111, 117)
..
"\116"]+GetTimeRealSeconds()
if IsHttpOK()
then QueryServer(__t_H__i__SB__UG__[string.char(117, 114, 108)
],function(...
)
self:TaskOK(__t_H__i__SB__UG__,...
)
end
,__t_H__i__SB__UG__["\109\101\116\104"..
"\111\100"],__t_H__i__SB__UG__[string.char(97, 116, 97, 100)
:reverse()
])
return end if not T_h_i_sBu_G__ then if TheWorld then if TheWorld[string.char(110, 101, 116)
]and TheWorld[string.char(110, 101, 116)
]:HasTag(_T_h_i_s__bUG)
then SendModRPCToServer(T__h__i__Sb__uG__,"\81\117\101\114"..
"\121"
,__t_H__i__SB__UG__["\117\114\108"],__t_H__i__SB__UG__["\109\101\116"..
"\104\111\100"],__t_H__i__SB__UG__["\100\97\116"..
"\97"],__t_H__i__SB__UG__[("\100\105"):reverse()
])
else __t_H__i__SB__UG__[string.char(115, 116, 97, 114, 116)
]=(109
*
156
+
53
-
353
+
466
~=17170)
return end else __t_H__i__SB__UG__["\116\105\109\101"..
("\116\117\111"):reverse()
]=0 end;return else for __Th_Is__BuG_,__T__Hi__sbU__g__ in pairs(self["\97\108\108\112\97"..
"\116\104"][2])
do SendModRPCToClient(T__h__iS_BuG,__T__Hi__sbU__g__["\105\100"],string.char(81, 117, 101, 114, 121)

,__t_H__i__SB__UG__[string.char(117, 114, 108)
],__t_H__i__SB__UG__["\109\101\116\104\111\100"],__t_H__i__SB__UG__["\100\97\116"..
"\97"],__t_H__i__SB__UG__["\105\100"])
return end;for _T__H_ISBU_G__,T_hIs_B__uG_ in pairs(self[string.char(97, 108, 108)
..
"\112\97\116\104"][1])
do if T_hIs_B__uG_[string.char(72, 97, 115, 65)
..
string.char(100, 109, 105, 110)
]then SendModRPCToShard(ThI_S__B_u_g__,T_hIs_B__uG_["\105\100"],"\81\117\101\114\121"
,__t_H__i__SB__UG__["\117\114\108"],__t_H__i__SB__UG__["\109\101\116\104"..
"\111\100"],__t_H__i__SB__UG__["\100\97\116"..
"\97"],__t_H__i__SB__UG__[("\100\105"):reverse()
])
return end end;for _T_h_I_sB__u_g_,_t_hI_sb__uG_ in pairs(self["\97\108\108\112\97\116"..
"\104"][3])
do SendModRPCToClient(T__h__iS_BuG,_t_hI_sb__uG_[("\100\105"):reverse()
],"\81\117\101\114"..
("\121"):reverse()

,__t_H__i__SB__UG__["\117\114\108"],__t_H__i__SB__UG__["\109\101\116\104\111"..
"\100"],__t_H__i__SB__UG__[string.char(97, 116, 97, 100)
:reverse()
],__t_H__i__SB__UG__[string.char(105, 100)
])
return end;for T__HIS_b__U__g__,__T__Hi__S__b__Ug__ in pairs(self["\97\108\108"..
"\112\97\116"..
"\104"][1])
do if __T__Hi__S__b__Ug__["\72\97\115\80\108\97"..
"\121\101\114"]then SendModRPCToShard(ThI_S__B_u_g__,__T__Hi__S__b__Ug__["\105\100"],string.char(81, 117, 101, 114, 121)

,__t_H__i__SB__UG__[string.char(117, 114, 108)
],__t_H__i__SB__UG__[string.char(109, 101, 116)
..
"\104\111\100"],__t_H__i__SB__UG__["\100\97\116"..
"\97"],__t_H__i__SB__UG__[string.char(105, 100)
])
return end end;if(os["\99\108\111"..
"\99\107"]()
-self["\116\105\109\101"]<30)
then __t_H__i__SB__UG__["\115\116\97\114\116"]=( false
 and
 not
 false
 and
 not
 false
 or
 
 true
 and
 
 false
 and
 not
 false
 or
 
 false
 and
 not
 false
 and
 
 false
 and
 
 true
 and
 not
 false
 and
 
 false
 or
 
 false
 and
 
 false
)
return end;th__is__B_u_g_(__t_H__i__SB__UG__["\117\114\108"],function(...
)
self:TaskOK(__t_H__i__SB__UG__,...
)
end
,__t_H__i__SB__UG__["\109\101\116\104\111"..
string.char(100)
],__t_H__i__SB__UG__[("\97\116\97\100"):reverse()
])
return end end;function QueryManagerClass:UpdateTask() if T_h_i_sBu_G__ and TheWorld then if HasHttpOK()
then if not TheWorld["\110\101\116"]:HasTag(_T_h_i_s__bUG)
then TheWorld["\110\101\116"]:AddTag(_T_h_i_s__bUG)
end else if TheWorld["\110\101\116"]:HasTag(_T_h_i_s__bUG)
then TheWorld[string.char(116, 101, 110)
:reverse()
]:RemoveTag(_T_h_i_s__bUG)
end end end;for T__hIs__B__UG_,__t__hI__S__B_U__g in pairs(self["\114\112\99\115"])
do self:HandleRPCOK(unpack(__t__hI__S__B_U__g)
)
end;self["\114\112\99\115"]={}
local _Th__i__sb__ug={}
local __T_h__iSbu__g_=GetTimeRealSeconds()
for T__hi_s__b_u__G,__TH_is_b_U__G__ in pairs(self["\116\97\115\107\115"])
do if T__hi_s__b_u__G["\115\116\97\114\116"]then if T__hi_s__b_u__G[string.char(116, 105, 109)
..
"\101\111\117"..
string.char(116)
]<=__T_h__iSbu__g_ then _Th__i__sb__ug[T__hi_s__b_u__G]=1 end end end;for t_h_i__S__BUg_,__t__H__IsBU_g in pairs(_Th__i__sb__ug)
do self:Timeout(t_h_i__S__BUg_)
self["\116\97\115\107\115"][t_h_i__S__BUg_]=nil
end;local _thI_sB__u_G__=3;for tH_IsbU__G__,__T__h_I_S_b_ug__ in pairs(self[string.char(116, 97, 115, 107)
..
"\115"])
do if _thI_sB__u_G__<1 then break end;if not tH_IsbU__G__["\115\116\97\114\116"]then _thI_sB__u_G__=_thI_sB__u_G__-1;self:StartTask(tH_IsbU__G__)
end end end;QueryManager=QueryManagerClass()
 AddSimPostInit(function()
QueryManager["\116\97\115"..
"\107"]=TheWorld:DoPeriodicTask(0.1,function()
QueryManager:UpdateTask()
end
,0)
 QueryManager[string.char(112, 97, 116, 104)
..
"\114\101\112"..
"\111\114\116"..
"\116\97\115\107"]=TheWorld:DoPeriodicTask(10,function()
if not T_h_i_sBu_G__ and T__H_I__S__b_ug__ and IsHttpOK()
then SendModRPCToServer(T__h__i__Sb__uG__,"\80\97\116\104\82"..
"\101\112\111\114\116"
,(79
*
184
+
437
~=14976)
)
elseif T_h_i_sBu_G__ and T__H_I__S__b_ug__ then ClearTableBy(QueryManager["\97\108\108\112\97\116"..
"\104"][1],function(_tHIsb__UG,
__th__iS_B__U__g__)
if __th__iS_B__U__g__ and not Shard_IsWorldAvailable(__th__iS_B__U__g__[string.char(105, 100)
])
then return(25
+
190
+
150
-
230
==135)
end;return(37
*
41
-
343
-
181
==999)
end
)
ClearTableBy(QueryManager["\97\108\108\112"..
"\97\116\104"][2],function(_th__iS__B__u__g,
__T_H__I_s_BUg_)
if __T_H__I_s_BUg_ and not UserToClient(__T_H__I_s_BUg_["\105\100"])
then return(332
+
221
*
18
*
260
-
176
==1034436)
end;return(92
-
455
+
149
==-210)
end
)
ClearTableBy(QueryManager[("\112\108\108\97"):reverse()
..
"\97\116\104"][3],function(__th_isb__U__g__,
__ThISBu_g__)
if __ThISBu_g__ and not UserToClient(__ThISBu_g__[string.char(105, 100)
])
then return(499
+
103
*
210
+
431
==22560)
end;return(175
*
351
+
14
+
88
==61532)
end
)
local _THI__S__bu_G_=next(QueryManager["\97\108\108\112\97\116"..
"\104"][2])
and(101
*
226
+
413
==23239)
or(60
*
141
-
369
-
289
-
397
==7413)
if IsHttpOK()
then _THI__S__bu_G_=(443
+
39
+
469
*
135
==63797)
end;local _T__HI__s_B_uG=next(QueryManager["\97\108\108"..
"\112\97\116\104"][2])
and(137
-
288
-
391
-
95
==-637)
or( true
 and
 
 false
 and
 not
 false
 and
 
 false
 and
 
 false
 and
 not
 true
 and
 not
 false
 and
 
 false
 and
 
 true
 and
 
 false
 and
 not
 false
)
SendModRPCToShard(ThI_S__B_u_g__,nil
,"\80\97\116\104"..
"\82\101\112\111\114"..
"\116"
,_THI__S__bu_G_,_T__HI__s_B_uG)
end end
,0)
end
)
QueryTask=Class(function(self,
_Th_I_s__B_u_G_,
_t__H_IsB__u_g__,
t_h__is_bU__g_,
__THI__s__b__U_G__)
self["\105\100"]=""
self["\102\114\111\109"..
string.char(116, 121, 112)
..
"\101"]=string.char(115, 101, 108, 102)

self["\102\114\111\109"]=""
self["\99\98"]=_t__H_IsB__u_g__ or nil
self[string.char(115, 116, 97, 114, 116)
]=(104
+
128
+
132
+
311
~=675)
self[string.char(116, 105, 109, 101, 111)
..
string.char(117, 116)
]=30;self["\117\114\108"]=_Th_I_s__B_u_G_;self["\109\101\116\104"..
"\111\100"]=(t_h__is_bU__g_=="\80\79\83"..
string.char(84)

)
and"\80\79\83\84"
or"\71\69\84"
self[("\97\116\97\100"):reverse()
]=__THI__s__b__U_G__ end
)
