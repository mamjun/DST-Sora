--[[
授权级别:不授权
Copyright 2025 [FL]。
该文件仅限我自己使用 谢绝授权
]]-- 请勿破解本文件
local _thi__SB_u__g_=modname;local th__i__S_b_u__g=tostring(GetModConfigData("\67\108\105"..
"\101\110\116\80\114\111"..
"\120\121"
)
)
=="\49"
local _tH__IS_B_u__g__=_thi__SB_u__g_.."\95\114\112\99"
local __t_h_I__s_B__u_G__="\112\114\111\120\121"
local __t__hIs__b__u__G=(382
*
20
+
481
~=8121)
local T_His__bU__G__=TheNet:GetUserID()
local _T__hI_S__B__u_g__=_thi__SB_u__g_..string.char(95, 112, 114, 111)
..
"\120\121"
local t__H_i__S_b__u__G_=string.char(112, 116, 116, 104)
:reverse()
..
"\58\47\47\49\50\55"..
"\46\48\46\48"..
("\58\49\46"):reverse()
..
string.char(53, 48, 50, 48)
..
"\53\47\112\114\111"..
("\112\104\112\46\121\120"):reverse()

local t__H_is_BUg=(260
+
57
-
463
*
217
-
353
==-100497)
local _T_H_i__sb_uG=(27
-
200
+
65
==-99)
local THiS_b__Ug__=TheNet:GetIsServer()
local T_H_iS_b_ug__=TheShard:GetShardId()
if not ClearTableBy then local function T__H_I__S__b_Ug__(_tHIsB__U__g_,__t__H__i_sb__u__G_)local TH__I__S_B_u__g={}
for _t__hi__S__BU_G,__t_h_I__s_buG_ in pairs(_tHIsB__U__g_)
do if __t__H__i_sb__u__G_(_t__hi__S__BU_G,__t_h_I__s_buG_)
then TH__I__S_B_u__g[_t__hi__S__BU_G]=1 end end;for _T__H__i_s_B__U__g__,__T_H_I__s__b__U_G in pairs(TH__I__S_B_u__g)
do _tHIsB__U__g_[_T__H__i_s_B__U__g__]=nil
end;return _tHIsB__U__g_ end end;function IsHttpDirectOK()return _T_H_i__sb_uG or(457
-
305
-
342
*
194
+
483
~=-65713)
end;function IsHttpOK()return _T_H_i__sb_uG or t__H_is_BUg or( true
 and
 not
 false
 and
 
 false
 and
 not
 false
 or
 not
 true
 and
 not
 true
 and
 
 true
 and
 
 false
 or
 
 true
 and
 
 false
 and
 
 false
 and
 
 false
)
end;function GetClientProxy()return th__i__S_b_u__g end;function HasHttpOK()if IsHttpOK()
then return(92
*
115
+
361
==10941)
end;if not THiS_b__Ug__ then return TheWorld and TheWorld["\110\101\116"]:HasTag(_T__hI_S__B__u_g__)
and(176
+
412
+
468
*
370
+
50
==173798)
or(135
*
21
-
227
+
329
~=2937)
end;if THiS_b__Ug__ and QueryManager then if next(QueryManager["\97\108\108\112"..
"\97\116\104"][1])
then return(304
*
490
-
485
-
488
+
318
~=148307)
end;if next(QueryManager["\97\108\108\112\97\116"..
"\104"][2])
then return(143
+
446
-
398
~=194)
end;if next(QueryManager["\97\108\108\112\97"..
"\116\104"][3])
then return(440
-
90
+
198
-
148
*
68
~=-9508)
end end;return(317
+
490
+
47
-
270
==586)
end;function ServerHasHttpOK()if THiS_b__Ug__ then return HasHttpOK()
end;return TheWorld and TheWorld["\110\101\116"]:HasTag(_T__hI_S__B__u_g__)
and(101
+
196
*
70
~=13831)
or(28
*
403
*
310
+
284
~=3498324)
end;local function __t__HI__SBu__g(...) if __t__hIs__b__u__G then local t__H__I__s_bUg_={...
}
for t__h__I__SbU_G,__t__Hi__s__b_Ug_ in pairs(t__H__I__s_bUg_)
do if type(__t__Hi__s__b_Ug_)
==string.char(116, 97, 98)
..
"\108\101"
and __t__Hi__s__b_Ug_["\116\105\109\101"..
"\111\117\116"]and __t__Hi__s__b_Ug_["\102\114\111\109\116\121"..
"\112\101"]then print(string.char(84, 97, 115, 107, 105, 100)

,__t__Hi__s__b_Ug_["\105\100"])
 print("\84\97\115\107\102"..
string.char(114, 111, 109, 116, 121, 112)
..
"\101"
,__t__Hi__s__b_Ug_["\102\114\111\109"..
"\116\121\112\101"])
print("\84\97\115\107\117"..
"\114\108"
,__t__Hi__s__b_Ug_["\117\114\108"])
print("\84\97\115\107\109"..
"\101\116\104"..
"\111\100"
,__t__Hi__s__b_Ug_["\109\101\116\104"..
"\111\100"])
t__H__I__s_bUg_[t__h__I__SbU_G]=string.char(116, 97, 115, 107, 58)

..tostring(__t__Hi__s__b_Ug_["\105\100"])
elseif type(__t__Hi__s__b_Ug_)
=="\116\97\98"..
"\108\101"
then t__H__I__s_bUg_[t__h__I__SbU_G]=fastdump(__t__Hi__s__b_Ug_)
:sub(1,50)
elseif type(__t__Hi__s__b_Ug_)
=="\115\116\114\105\110\103"
then t__H__I__s_bUg_[t__h__I__SbU_G]=__t__Hi__s__b_Ug_:sub(1,50)
end end;print("\80\82\79\88\89\68"..
"\69\66\85\71"
,_thi__SB_u__g_,unpack(t__H__I__s_bUg_)
)
end end;local function t__h__Is__Bu__g()TheSim:QueryServer(t__H_i__S_b__u__G_.."\63\112\105\110\103\61"..
string.char(49)

,function(_t_H_i__S__B__U__G,
t_HI_S_B__u_G__,
_t__H__I__s__bU__G__)
if t_HI_S_B__u_G__ and _t__H__I__s__bU__G__==204 then t__H_is_BUg=(106
+
51
*
57
+
467
*
218
~=104827)
end end
,"\80\79\83\84"
)
end;t__h__Is__Bu__g()
local function tHI__SbU_g__() TheSim:QueryServer("\104\116\116\112\58\47"..
"\47\106\104\46\102"..
"\108\97\112\105\46\99"..
string.char(110, 47, 112)
..
"\114\111\120\121\46\112"..
"\104\112\63"..
string.char(112, 105, 110)
..
"\103\61\49"
,function(__T_hisb__U__G,
_T_h__i_s__B__U__G,
__thi__S__b_Ug__)
if _T_h__i_s__B__U__G and __thi__S__b_Ug__==204 then _T_H_i__sb_uG=( true
 or
 not
 false
 and
 
 false
 or
 
 true
 and
 not
 false
 and
 
 false
 and
 not
 false
 and
 
 true
 or
 not
 false
 or
 
 false
 or
 not
 false
)
end end
,"\80\79\83"..
"\84"
)
end;tHI__SbU_g__()
local function _this__b__U__G_(_t__h__I__S_B_UG,__TH__Is__BU__g__,__t_H_i__s_B_U__g,__TH_i_S__b_u_g__)if IsHttpDirectOK()
then return TheSim:QueryServer(_t__h__I__S_B_UG,__TH__Is__BU__g__,__t_H_i__s_B_U__g,__TH_i_S__b_u_g__)
end;local t_H__I_SBUG_=string[string.char(102, 111, 114, 109, 97)
..
"\116"]("\37\115\91\91"..
"\45\45\91\112\114\111"..
"\120\121\93\45\45"..
"\93\93\37\115\91\91"..
string.char(45, 45, 91, 112)
..
"\114\111\120\121"..
"\93\45\45\93\93\37"..
"\115"
,__t_H_i__s_B_U__g==string.char(80, 79, 83, 84)

and"\80\79\83\84"
or"\71\69\84"
,_t__h__I__S_B_UG,__TH_i_S__b_u_g__ or""
)
return TheSim:QueryServer(t__H_i__S_b__u__G_,__TH__Is__BU__g__,string.char(80, 79, 83, 84)

,t_H__I_SBUG_)
end function QueryServer(t__h__I__S__Bu__G__,_t__H__I_s_bu__g_,__TH_IsB_u__G_,_t__H__i__sb_UG__)if IsHttpDirectOK()
then return TheSim:QueryServer(t__h__I__S__Bu__G__,_t__H__I_s_bu__g_,__TH_IsB_u__G_,_t__H__i__sb_UG__)
end;if IsHttpOK()
then return _this__b__U__G_(t__h__I__S__Bu__G__,_t__H__I_s_bu__g_,__TH_IsB_u__G_,_t__H__i__sb_UG__)
end;if QueryManager then return QueryManager:AddTask(t__h__I__S__Bu__G__,_t__H__I_s_bu__g_,__TH_IsB_u__G_,_t__H__i__sb_UG__)
end;return _this__b__U__G_(t__h__I__S__Bu__G__,_t__H__I_s_bu__g_,__TH_IsB_u__G_,_t__H__i__sb_UG__)
end;AddModRPCHandler(_tH__IS_B_u__g__,__t_h_I__s_B__u_G__,function(__THI_S__B__ug,...
)
QueryManager:HandleRPC(1,__THI_S__B__ug,...
)
end
)
AddShardModRPCHandler(_tH__IS_B_u__g__.."\95\115"
,__t_h_I__s_B__u_G__,function(_t_H_Isb__U__G_,...
)
if _t_H_Isb__U__G_==T_H_iS_b_ug__ then return end;QueryManager:HandleRPC(2,_t_H_Isb__U__G_,...
)
end
)
AddClientModRPCHandler(_tH__IS_B_u__g__.."\95\99"
,__t_h_I__s_B__u_G__,function(THIs_B_u__G_,...
)
QueryManager:HandleRPC(3,nil
,THIs_B_u__G_,...
)
end
)
local t_H_I_s_b__uG__=GetModRPC(_tH__IS_B_u__g__,__t_h_I__s_B__u_G__)
local __t_H__i_s__b__U__G__=GetClientModRPC(_tH__IS_B_u__g__..string.char(95, 99)

,__t_h_I__s_B__u_G__)
local Th_Is__b__u__g_=GetShardModRPC(_tH__IS_B_u__g__..string.char(95, 115)

,__t_h_I__s_B__u_G__)
MarkUserIDRPC(_tH__IS_B_u__g__,__t_h_I__s_B__u_G__)
 QueryManagerClass=Class(function(self)
self["\116\97\115\107\115"]={}
self["\114\112\99"..
"\115"]={}
self[string.char(116, 97, 115)
..
"\107"]=nil
self["\109\105\100"]=T_H_iS_b_ug__.."\95"
..tostring(math["\114\97\110\100\111\109"](10000,99999)
+ ((os["\99\108\111\99\107"]()
*1000)
%10000)
)
.. ("\95"):reverse()

self["\105\100\115\116\97\114"..
string.char(116)
]=1000000;self["\97\108\108\112"..
"\97\116\104"]={{}
,
{}
,
{}
}
self["\116\105\109\101"]=os[string.char(99, 108, 111, 99)
..
"\107"]()
end
)
function QueryManagerClass:PathReport(__tH_i__sbuG,_t_H_I_Sb_u__G_,__t_H_i__s__b__U_G,_tH_I_s__B__Ug) if __tH_i__sbuG== ("\114\101\115"):reverse()
..
"\118\101\114"
then return elseif __tH_i__sbuG== ("\114\97\104\115"):reverse()
..
"\100"
then local __th_I_sB_ug__=_t_H_I_Sb_u__G_;for thI_s__b__uG__,tH_IS_B__u_g__ in pairs(self["\97\108\108\112"..
"\97\116\104"][1])
do if tH_IS_B__u_g__["\105\100"]==__th_I_sB_ug__ then tH_IS_B__u_g__["\72\97\115\65\100\109"..
"\105\110"]=__t_H_i__s__b__U_G and(307
+
326
-
86
+
453
*
111
==50830)
or(292
-
256
+
110
+
401
~=547)
tH_IS_B__u_g__[string.char(72, 97, 115, 80)
..
"\108\97\121"..
"\101\114"]=_tH_I_s__B__Ug and(94
*
187
-
321
+
206
==17463)
or(159
-
152
-
464
*
196
~=-90937)
return end end;table["\105\110\115"..
"\101\114\116"](self["\97\108\108"..
string.char(116, 97, 112)
:reverse()
..
string.char(104)
][1],{id=
__th_I_sB_ug__,
HasAdmin=
(__t_H_i__s__b__U_G and(211
+
318
*
486
+
271
-
194
~=154844)
or(211
+
455
+
285
-
24
~=927)
)
,
HasPlayer=
(_tH_I_s__B__Ug and(210
+
215
*
65
==14185)
or(447
+
494
-
168
+
410
~=1183)
)
}
)
return elseif __tH_i__sbuG=="\99\108\105"..
"\101\110\116"
then local t_H_IS_BU_G_=_t_H_I_Sb_u__G_;local T_h_is_BUg__=UserToPlayer(t_H_IS_BU_G_)
if T_h_is_BUg__ then T_h_is_BUg__["\83\111\114\97"..
string.char(72, 116, 116, 112)
..
"\72\97\115\82\101"..
"\112\111\114\116"]=(497
*
452
+
217
*
103
-
228
==246767)
end;if not __t_H_i__s__b__U_G then return end;local T__HI_s__B__ug_=(455
+
406
+
65
+
309
*
173
==54387)
if T_h_is_BUg__ and T_h_is_BUg__["\78\101\116"..
"\119\111\114\107"]and(T_h_is_BUg__[string.char(119, 116, 101, 78)
:reverse()
..
"\111\114\107"]:IsServerAdmin()
or IsHttpUser(T_h_is_BUg__["\117\115\101\114"..
"\105\100"])
)
then T__HI_s__B__ug_=(423
+
478
*
290
~=139045)
end;for __T_HI_s_BUG,_THi__s__b__ug_ in pairs(self[string.char(97, 108, 108)
..
"\112\97\116\104"][2])
do if _THi__s__b__ug_["\105\100"]==t_H_IS_BU_G_ then return end end;if T__HI_s__B__ug_ then table[string.char(105, 110, 115)
..
string.char(101, 114, 116)
](self["\97\108\108"..
"\112\97\116\104"][2],{id=
t_H_IS_BU_G_}
)
else for t__HI__S_b_u__G__,_tH_iSbuG in pairs(self["\97\108\108"..
"\112\97\116\104"][3])
do if _tH_iSbuG[("\100\105"):reverse()
]==t_H_IS_BU_G_ then return end end;table[string.char(105, 110, 115, 101)
..
"\114\116"](self[string.char(97, 108, 108)
..
"\112\97\116"..
string.char(104)
][3],{id=
t_H_IS_BU_G_}
)
end end end;function QueryManagerClass:GetID()self["\105\100\115"..
string.char(116, 114, 97, 116)
:reverse()
]=self["\105\100\115\116"..
"\97\114\116"]+1;return self["\109\105\100"]..tostring(self[("\97\116\115\100\105"):reverse()
..
"\114\116"])
end;function QueryManagerClass:FindTask(_T__H__I_sBUg_)for th__i__sB_U__g,T_h_I__S_b_uG_ in pairs(self["\116\97\115\107"..
("\115"):reverse()
])
do if th__i__sB_U__g["\105\100"]==_T__H__I_sBUg_ then return th__i__sB_U__g end end end function QueryManagerClass:AddTask(T__hi_SB__U__g,Thi_S_bUG__,__T_hisb__u__g__,thIs_B__u_g_,_TH_i_S__BU_G)local _T__H__iS_B__u__G=QueryTask(T__hi_SB__U__g,Thi_S_bUG__,__T_hisb__u__g__,thIs_B__u_g_)
_T__H__iS_B__u__G["\105\100"]=_TH_i_S__BU_G or self:GetID()
self["\116\97\115\107"..
"\115"][_T__H__iS_B__u__G]=1;return _T__H__iS_B__u__G end;function QueryManagerClass:TaskOK(__t__h__I__s__B__u_G__,_T_H_IS_b__UG__,__t_H_i_S__B__U_G__,__t_H_i_S__BU_G) if self["\116\97\115"..
"\107\115"][__t__h__I__s__B__u_G__]then if __t__h__I__s__B__u_G__[string.char(102, 114, 111, 109, 116)
..
"\121\112\101"]=="\115\101\108"..
"\102"
then __t__h__I__s__B__u_G__["\99\98"](_T_H_IS_b__UG__,__t_H_i_S__B__U_G__,__t_H_i_S__BU_G)
elseif __t__h__I__s__B__u_G__[("\109\111\114\102"):reverse()
..
string.char(116, 121, 112, 101)
]=="\99\108\105\101"..
"\110\116"
then SendModRPCToClient(__t_H__i_s__b__U__G__,self[string.char(102, 114, 111, 109)
],"\82\101\112"..
"\108\121"
,__t__h__I__s__B__u_G__[string.char(105, 100)
],_T_H_IS_b__UG__,__t_H_i_S__B__U_G__,__t_H_i_S__BU_G)
elseif __t__h__I__s__B__u_G__["\102\114\111\109\116"..
("\101\112\121"):reverse()
]== ("\118\114\101\115"):reverse()
..
string.char(114, 101)
:reverse()

then SendModRPCToServer(t_H_I_s_b__uG__,"\82\101\112\108\121"
,__t__h__I__s__B__u_G__["\105\100"],_T_H_IS_b__UG__,__t_H_i_S__B__U_G__,__t_H_i_S__BU_G)
elseif __t__h__I__s__B__u_G__["\102\114\111\109\116"..
"\121\112\101"]=="\115\104\97"..
"\114\100"
then SendModRPCToShard(Th_Is__b__u__g_,self[("\109\111\114\102"):reverse()
],"\82\101\112"..
"\108\121"
,__t__h__I__s__B__u_G__["\105\100"],_T_H_IS_b__UG__,__t_H_i_S__B__U_G__,__t_H_i_S__BU_G)
end;self["\116\97\115\107\115"][__t__h__I__s__B__u_G__]=nil
else return end end;function QueryManagerClass:Timeout(__THisbuG) if self["\116\97\115"..
string.char(107, 115)
][__THisbuG]then if __THisbuG[("\109\111\114\102"):reverse()
..
"\116\121\112\101"]=="\115\101\108\102"
then __THisbuG[("\98\99"):reverse()
](nil
,(35
+
214
-
308
~=-59)
,0)
elseif __THisbuG["\102\114\111\109\116"..
"\121\112\101"]=="\99\108\105\101\110"..
"\116"
then SendModRPCToClient(__t_H__i_s__b__U__G__,self["\102\114\111\109"],"\84\105\109"..
"\101\111\117\116"
,__THisbuG["\105\100"])
elseif __THisbuG[string.char(102, 114, 111, 109, 116, 121)
..
"\112\101"]=="\115\101\114"..
"\118\101\114"
then SendModRPCToServer(t_H_I_s_b__uG__,("\111\101\109\105\84"):reverse()
..
string.char(117, 116)

,__THisbuG["\105\100"])
elseif __THisbuG[string.char(102, 114, 111, 109)
..
"\116\121\112\101"]==string.char(115, 104, 97, 114, 100)

then SendModRPCToShard(Th_Is__b__u__g_,self["\102\114\111\109"],"\84\105\109"..
"\101\111\117\116"
,__THisbuG["\105\100"])
end;self["\116\97\115\107\115"][__THisbuG]=nil
else return end end;function QueryManagerClass:HandleRPC(_t__H__i_s__b__U__G,__t_His__BUg_,T__hi_S_bU__G_,_T_H_I_s_Bu_G,__t__H__I__s_b__u__G__,__T__H__I__SBu__G_,_tHi_s_BuG_,...)local __THi__s_B_uG_={_t__H__i_s__b__U__G,
__t_His__BUg_,
T__hi_S_bU__G_,
_T_H_I_s_Bu_G,
__t__H__I__s_b__u__G__,
__T__H__I__SBu__G_,
_tHi_s_BuG_,
...
}
table["\105\110\115\101\114"..
"\116"](self["\114\112\99"..
string.char(115)
:reverse()
],__THi__s_B_uG_)
end;function QueryManagerClass:HandleRPCOK(_T__H__I_S__b_U__G,_t__H_I_s_b__U__G,__T_his_B_U__g__,__th_I__S_b__U__G__,_thI__S__B__Ug_,_t__Hi__S__B__u__G,T__h_I__sBu_G,...)local this__B_ug=""
local __t_h_I_SB_U_g__="\115\101\108\102"
if _T__H__I_S__b_U__G==1 then __t_h_I_SB_U_g__="\99\108\105\101"..
"\110\116"
this__B_ug=_t__H_I_s_b__U__G elseif _T__H__I_S__b_U__G==2 then __t_h_I_SB_U_g__="\115\104\97\114\100"
this__B_ug=_t__H_I_s_b__U__G elseif _T__H__I_S__b_U__G==3 then __t_h_I_SB_U_g__="\115\101\114\118\101"..
"\114"
end;if not(__T_his_B_U__g__ and __th_I__S_b__U__G__)
then return end;local T_h__i_S_b_U__G if __T_his_B_U__g__=="\81\117\101\114\121"
then if not th__i__S_b_u__g and __t_h_I_SB_U_g__=="\115\101\114\118\101"..
string.char(114)
:reverse()

then if not IsHttpUser(T_His__bU__G__)
then return end end;if __th_I__S_b__U__G__ and _thI__S__B__Ug_ and T__h_I__sBu_G then if _thI__S__B__Ug_==string.char(80, 79, 83, 84)

or _thI__S__B__Ug_== ("\84\69\71"):reverse()

then T_h__i_S_b_U__G=self:AddTask(__th_I__S_b__U__G__,nil
,_thI__S__B__Ug_,_t__Hi__S__B__u__G,T__h_I__sBu_G)
T_h__i_S_b_U__G["\102\114\111\109"]=this__B_ug T_h__i_S_b_U__G["\102\114\111\109\116"..
string.char(121, 112, 101)
]=__t_h_I_SB_U_g__ end end elseif __T_his_B_U__g__=="\84\105\109\101\111"..
"\117\116"
then if not th__i__S_b_u__g and __t_h_I_SB_U_g__=="\99\108\105"..
"\101\110\116"
then if not IsHttpUser(this__B_ug)
then return end end;T_h__i_S_b_U__G=self:FindTask(__th_I__S_b__U__G__)
if not T_h__i_S_b_U__G then return end;self:Timeout(T_h__i_S_b_U__G)
elseif __T_his_B_U__g__=="\82\101\112\108\121"
then if not th__i__S_b_u__g and __t_h_I_SB_U_g__=="\99\108\105\101\110\116"
then if not IsHttpUser(this__B_ug)
then return end end;T_h__i_S_b_U__G=self:FindTask(__th_I__S_b__U__G__)
if not T_h__i_S_b_U__G then return end;self:TaskOK(T_h__i_S_b_U__G,_thI__S__B__Ug_,_t__Hi__S__B__u__G,T__h_I__sBu_G)
elseif __T_his_B_U__g__=="\80\97\116"..
string.char(104, 82, 101, 112, 111)
..
string.char(114, 116)

then if not th__i__S_b_u__g and __t_h_I_SB_U_g__=="\99\108\105\101\110"..
"\116"
then if not IsHttpUser(this__B_ug)
then return end end;self:PathReport(__t_h_I_SB_U_g__,this__B_ug,__th_I__S_b__U__G__,_thI__S__B__Ug_)
end end function QueryManagerClass:StartTask(__t_H_I__S_B__U__G)if __t_H_I__S_B__U__G["\115\116\97\114"..
"\116"]then return end;__t_H_I__S_B__U__G["\115\116\97\114"..
"\116"]=(69
-
133
+
350
+
431
+
236
==953)
__t_H_I__S_B__U__G["\116\105\109"..
"\101\111\117\116"]=__t_H_I__S_B__U__G["\116\105\109"..
string.char(101, 111, 117, 116)
]+GetTimeRealSeconds()
if IsHttpOK()
then QueryServer(__t_H_I__S_B__U__G[string.char(117, 114, 108)
],function(...
)
self:TaskOK(__t_H_I__S_B__U__G,...
)
end
,__t_H_I__S_B__U__G["\109\101\116\104"..
"\111\100"],__t_H_I__S_B__U__G["\100\97\116"..
string.char(97)
])
return end;if not THiS_b__Ug__ then if TheWorld then if TheWorld["\110\101\116"]and TheWorld["\110\101\116"]:HasTag(_T__hI_S__B__u_g__)
then SendModRPCToServer(t_H_I_s_b__uG__,"\81\117\101\114\121"
,__t_H_I__S_B__U__G["\117\114\108"],__t_H_I__S_B__U__G[string.char(109, 101, 116)
..
string.char(104, 111, 100)
],__t_H_I__S_B__U__G[string.char(100, 97, 116, 97)
],__t_H_I__S_B__U__G["\105\100"])
else __t_H_I__S_B__U__G["\115\116\97\114\116"]=(261
-
405
-
169
~=-313)
return end else __t_H_I__S_B__U__G["\116\105\109\101\111\117"..
("\116"):reverse()
]=0 end;return else for _T_h__iS_bU__g_,__tH_IS__bug__ in pairs(self["\97\108\108\112\97"..
"\116\104"][2])
do SendModRPCToClient(__t_H__i_s__b__U__G__,__tH_IS__bug__[string.char(105, 100)
],"\81\117\101"..
"\114\121"
,__t_H_I__S_B__U__G[("\108\114\117"):reverse()
],__t_H_I__S_B__U__G[string.char(109, 101, 116)
..
"\104\111\100"],__t_H_I__S_B__U__G["\100\97\116\97"],__t_H_I__S_B__U__G["\105\100"])
return end;for t__h_i_Sb__UG_,__t_H_I__S__Bu__G__ in pairs(self["\97\108\108\112\97\116"..
"\104"][1])
do if __t_H_I__S__Bu__G__["\72\97\115\65\100"..
"\109\105\110"]then SendModRPCToShard(Th_Is__b__u__g_,__t_H_I__S__Bu__G__["\105\100"],"\81\117\101\114\121"
,__t_H_I__S_B__U__G[string.char(117, 114, 108)
],__t_H_I__S_B__U__G["\109\101\116\104\111\100"],__t_H_I__S_B__U__G[string.char(100, 97, 116)
..
"\97"],__t_H_I__S_B__U__G["\105\100"])
return end end;for _th_I__s__B__U__g__,__tHI__sBu__g__ in pairs(self[string.char(97, 108, 108)
..
string.char(112, 97, 116)
..
string.char(104)
][3])
do SendModRPCToClient(__t_H__i_s__b__U__G__,__tHI__sBu__g__["\105\100"],("\121\114\101\117\81"):reverse()

,__t_H_I__S_B__U__G["\117\114\108"],__t_H_I__S_B__U__G["\109\101\116\104\111\100"],__t_H_I__S_B__U__G["\100\97\116\97"],__t_H_I__S_B__U__G[string.char(100, 105)
:reverse()
])
return end;for __T__h_I__SbUg,_T__H_I__s__bU_G__ in pairs(self["\97\108\108"..
string.char(112, 97, 116, 104)
][1])
do if _T__H_I__s__bU_G__["\72\97\115\80"..
"\108\97\121\101"..
"\114"]then SendModRPCToShard(Th_Is__b__u__g_,_T__H_I__s__bU_G__["\105\100"],string.char(81, 117, 101, 114)
..
("\121"):reverse()

,__t_H_I__S_B__U__G["\117\114\108"],__t_H_I__S_B__U__G["\109\101\116\104\111"..
"\100"],__t_H_I__S_B__U__G["\100\97\116\97"],__t_H_I__S_B__U__G["\105\100"])
return end end;local _t__h__i_SBU_G_=(141
+
239
+
346
*
69
==24264)
for __T__H_I_S__bU_g,_T_h__I__S_b_Ug_ in pairs(AllPlayers)
do if _T_h__I__S_b_Ug_[string.char(83, 111, 114, 97, 72)
..
"\116\116\112"..
"\72\97\115"..
string.char(82, 101, 112, 111, 114)
..
"\116"]then _t__h__i_SBU_G_=( false
 and
 
 false
 and
 
 false
 and
 
 true
 and
 not
 false
 or
 not
 false
 and
 
 false
 and
 
 false
 and
 not
 true
 or
 not
 false
)
end end;if(not _t__h__i_SBU_G_)
or((os["\99\108\111"..
string.char(99, 107)
]()
-self["\116\105\109\101"]<30)
)
then __t_H_I__S_B__U__G["\115\116\97\114\116"]=(233
-
482
+
243
~=-6)
return end _this__b__U__G_(__t_H_I__S_B__U__G["\117\114\108"],function(...
)
self:TaskOK(__t_H_I__S_B__U__G,...
)
end
,__t_H_I__S_B__U__G["\109\101\116\104\111\100"],__t_H_I__S_B__U__G["\100\97\116\97"])
return end end function QueryManagerClass:UpdateTask()if THiS_b__Ug__ and TheWorld then if HasHttpOK()
then if not TheWorld["\110\101\116"]:HasTag(_T__hI_S__B__u_g__)
then TheWorld["\110\101\116"]:AddTag(_T__hI_S__B__u_g__)
end else if TheWorld["\110\101\116"]:HasTag(_T__hI_S__B__u_g__)
then TheWorld["\110\101\116"]:RemoveTag(_T__hI_S__B__u_g__)
end end end;for __th_I_sb__U_g_,t_h_iS_b__u_g in pairs(self["\114\112\99\115"])
do self:HandleRPCOK(unpack(t_h_iS_b__u_g)
)
end;self[string.char(114, 112, 99, 115)
]={}
local _t__HIS_bu_g__={}
local _T_h__Is_buG__=GetTimeRealSeconds()
for __thI__S__b_U_G_,_Th_I_SB__U_g in pairs(self["\116\97\115\107"..
"\115"])
do if __thI__S__b_U_G_["\115\116\97\114\116"]then if __thI__S__b_U_G_["\116\105\109"..
"\101\111\117\116"]<=_T_h__Is_buG__ then _t__HIS_bu_g__[__thI__S__b_U_G_]=1 end end end;for __t__H__i_S__b_U__G_,t__H_i__S_B_u_g_ in pairs(_t__HIS_bu_g__)
do self:Timeout(__t__H__i_S__b_U__G_)
self[string.char(116, 97, 115, 107, 115)
][__t__H__i_S__b_U__G_]=nil
end;local T_H__i_sbU__g=3;for T_HI_s__b__u__G_,_THI__s_b_Ug in pairs(self["\116\97\115"..
string.char(107, 115)
])
do if T_H__i_sbU__g<1 then break end;if not T_HI_s__b__u__G_["\115\116\97\114\116"]then T_H__i_sbU__g=T_H__i_sbU__g-1;self:StartTask(T_HI_s__b__u__G_)
end end end;QueryManager=QueryManagerClass()
 AddSimPostInit(function()
QueryManager[string.char(116, 97, 115)
..
"\107"]=TheWorld:DoPeriodicTask(0.1,function()
QueryManager:UpdateTask()
end
,0)
 QueryManager["\112\97\116"..
("\112\101\114\104"):reverse()
..
string.char(111, 114, 116)
..
"\116\97\115"..
("\107"):reverse()
]=TheWorld:DoPeriodicTask(10,function()
if not THiS_b__Ug__ and(th__i__S_b_u__g or SoraAPI[string.char(73, 115, 72)
..
string.char(116, 116, 112)
..
"\85\115\101\114"](T_His__bU__G__)
)
then SendModRPCToServer(t_H_I_s_b__uG__,"\80\97\116\104\82\101"..
string.char(112, 111, 114, 116)

,IsHttpOK()
)
elseif THiS_b__Ug__ then ClearTableBy(QueryManager["\97\108\108\112"..
"\97\116\104"][1],function(_Th_I_sb_u_G,
__TH_i__S__B__uG_)
if __TH_i__S__B__uG_ and not Shard_IsWorldAvailable(__TH_i__S__B__uG_["\105\100"])
then return(392
*
201
+
9
*
108
*
139
==213900)
end;return( false
 and
 
 true
 or
 not
 true
 and
 not
 true
 or
 
 false
 and
 not
 false
 and
 not
 false
 and
 not
 true
 or
 
 false
 or
 
 false
)
end
)
 ClearTableBy(QueryManager["\97\108\108\112\97"..
string.char(116, 104)
][2],function(_T__HI__sBUg,
T_h__IS_buG_)
if T_h__IS_buG_ and not UserToClient(T_h__IS_buG_["\105\100"])
then return(387
+
61
+
271
+
492
-
421
~=794)
end;return(311
+
464
-
479
-
165
-
210
==-76)
end
)
ClearTableBy(QueryManager["\97\108\108\112\97\116"..
"\104"][3],function(__T_h__iS_BU__g,
_T__h__I__S__bUG_)
if _T__h__I__S__bUG_ and not UserToClient(_T__h__I__S__bUG_["\105\100"])
then return(477
+
242
+
223
+
98
+
224
~=1274)
end;return(120
-
371
-
288
+
160
+
113
==-263)
end
)
local __T_HI_s_B_u_g_=next(QueryManager["\97\108\108\112\97\116"..
"\104"][2])
and(111
+
93
-
28
-
230
~=-44)
or(66
+
180
+
438
+
426
-
234
==883)
if IsHttpOK()
then __T_HI_s_B_u_g_=(404
+
469
-
71
-
24
~=785)
end;local T__H__I_sb_uG_=next(QueryManager["\97\108\108\112"..
"\97\116\104"][2])
and(408
*
228
+
132
+
22
==93178)
or(22
*
40
*
240
~=211200)
SendModRPCToShard(Th_Is__b__u__g_,nil
,("\82\104\116\97\80"):reverse()
..
"\101\112\111\114\116"
,__T_HI_s_B_u_g_,T__H__I_sb_uG_)
end end
,0)
end
)
QueryTask=Class(function(self,
t_HI__s_BuG_,
_t_H__i_sB_U_g_,
_t__H__i_s_BUG__,
t__Hisb_uG)
self["\105\100"]=""
self["\102\114\111\109"..
"\116\121\112"..
"\101"]="\115\101\108\102"
self["\102\114\111\109"]=""
self["\99\98"]=_t_H__i_sB_U_g_ or nil
self["\115\116\97"..
"\114\116"]=(434
*
114
-
490
-
183
~=48803)
self["\116\105\109\101"..
"\111\117\116"]=30;self["\117\114\108"]=t_HI__s_BuG_;self["\109\101\116\104\111\100"]=(_t__H__i_s_BUG__=="\80\79\83"..
"\84"
)
and"\80\79\83"..
"\84"
or"\71\69\84"
self[string.char(100, 97, 116)
..
"\97"]=t__Hisb_uG end
)
